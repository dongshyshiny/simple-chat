!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var R;function m(){return R.apply(null,arguments)}function y(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function A(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function g(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function U(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(g(e,t))return;return 1}function _(e){return void 0===e}function v(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function j(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function H(e,t){for(var n=[],i=e.length,r=0;r<i;++r)n.push(t(e[r],r));return n}function W(e,t){for(var n in t)g(t,n)&&(e[n]=t[n]);return g(t,"toString")&&(e.toString=t.toString),g(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,i){return Tt(e,t,n,i,!0).utc()}function w(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function F(e){var t,n,i=e._d&&!isNaN(e._d.getTime());return i&&(t=w(e),n=G.call(t.parsedDateParts,function(e){return null!=e}),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict)&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function V(e){var t=c(NaN);return null!=e?W(w(t),e):w(t).userInvalidated=!0,t}var G=Array.prototype.some||function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1},B=m.momentProperties=[],Z=!1;function q(e,t){var n,i,r,s=B.length;if(_(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),_(t._i)||(e._i=t._i),_(t._f)||(e._f=t._f),_(t._l)||(e._l=t._l),_(t._strict)||(e._strict=t._strict),_(t._tzm)||(e._tzm=t._tzm),_(t._isUTC)||(e._isUTC=t._isUTC),_(t._offset)||(e._offset=t._offset),_(t._pf)||(e._pf=w(t)),_(t._locale)||(e._locale=t._locale),0<s)for(n=0;n<s;n++)_(r=t[i=B[n]])||(e[i]=r);return e}function J(e){q(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Z&&(Z=!0,m.updateOffset(this),Z=!1)}function b(e){return e instanceof J||null!=e&&null!=e._isAMomentObject}function z(e){!1===m.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function e(s,o){var a=!0;return W(function(){if(null!=m.deprecationHandler&&m.deprecationHandler(null,s),a){for(var e,t,n=[],i=arguments.length,r=0;r<i;r++){if(e="","object"==typeof arguments[r]){for(t in e+="\n["+r+"] ",arguments[0])g(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[r];n.push(e)}z(s+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),a=!1}return o.apply(this,arguments)},o)}var $={};function X(e,t){null!=m.deprecationHandler&&m.deprecationHandler(e,t),$[e]||(z(t),$[e]=!0)}function o(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Q(e,t){var n,i=W({},e);for(n in t)g(t,n)&&(A(e[n])&&A(t[n])?(i[n]={},W(i[n],e[n]),W(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)g(e,n)&&!g(t,n)&&A(e[n])&&(i[n]=W({},i[n]));return i}function K(e){null!=e&&this.set(e)}m.suppressDeprecationWarnings=!1,m.deprecationHandler=null;var ee=Object.keys||function(e){var t,n=[];for(t in e)g(e,t)&&n.push(t);return n};function s(e,t,n){var i=""+Math.abs(e);return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,t-i.length)).toString().substr(1)+i}var te=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,ne=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ie={},re={};function i(e,t,n,i){var r="string"==typeof i?function(){return this[i]()}:i;e&&(re[e]=r),t&&(re[t[0]]=function(){return s(r.apply(this,arguments),t[1],t[2])}),n&&(re[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function se(e,t){return e.isValid()?(t=oe(t,e.localeData()),ie[t]=ie[t]||function(i){for(var e,r=i.match(te),t=0,s=r.length;t<s;t++)re[r[t]]?r[t]=re[r[t]]:r[t]=(e=r[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<s;n++)t+=o(r[n])?r[n].call(e,i):r[n];return t}}(t),ie[t](e)):e.localeData().invalidDate()}function oe(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(ne.lastIndex=0;0<=n&&ne.test(e);)e=e.replace(ne,i),ne.lastIndex=0,--n;return e}var ae={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function a(e){return"string"==typeof e?ae[e]||ae[e.toLowerCase()]:void 0}function le(e){var t,n,i={};for(n in e)g(e,n)&&(t=a(n))&&(i[t]=e[n]);return i}var ce={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1},ue=/\d/,t=/\d\d/,de=/\d{3}/,he=/\d{4}/,fe=/[+-]?\d{6}/,n=/\d\d?/,pe=/\d\d\d\d?/,me=/\d\d\d\d\d\d?/,ye=/\d{1,3}/,ge=/\d{1,4}/,_e=/[+-]?\d{1,6}/,ve=/\d+/,we=/[+-]?\d+/,be=/Z|[+-]\d\d:?\d\d/gi,Se=/Z|[+-]\d\d(?::?\d\d)?/gi,xe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,r=/^[1-9]\d?/,l=/^([1-9]\d|\d)/;function u(e,n,i){Ce[e]=o(n)?n:function(e,t){return e&&i?i:n}}function S(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function d(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function h(e){return 0!=(e=+e)&&isFinite(e)?d(e):0}var Ce={},ke={};function f(e,n){var t,i,r=n;for("string"==typeof e&&(e=[e]),v(n)&&(r=function(e,t){t[n]=h(e)}),i=e.length,t=0;t<i;t++)ke[e[t]]=r}function Me(e,r){f(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}function Oe(e){return e%4==0&&e%100!=0||e%400==0}var x=0,p=1,C=2,k=3,M=4,O=5,Ee=6,Te=7,De=8;function Ne(e){return Oe(e)?366:365}i("Y",0,0,function(){var e=this.year();return e<=9999?s(e,4):"+"+e}),i(0,["YY",2],0,function(){return this.year()%100}),i(0,["YYYY",4],0,"year"),i(0,["YYYYY",5],0,"year"),i(0,["YYYYYY",6,!0],0,"year"),u("Y",we),u("YY",n,t),u("YYYY",ge,he),u("YYYYY",_e,fe),u("YYYYYY",_e,fe),f(["YYYYY","YYYYYY"],x),f("YYYY",function(e,t){t[x]=2===e.length?m.parseTwoDigitYear(e):h(e)}),f("YY",function(e,t){t[x]=m.parseTwoDigitYear(e)}),f("Y",function(e,t){t[x]=parseInt(e,10)}),m.parseTwoDigitYear=function(e){return h(e)+(68<h(e)?1900:2e3)};var E,Ye=Le("FullYear",!0);function Le(t,n){return function(e){return null!=e?(Pe(this,t,e),m.updateOffset(this,n),this):Ie(this,t)}}function Ie(e,t){if(!e.isValid())return NaN;var n=e._d,i=e._isUTC;switch(t){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Pe(e,t,n){var i,r,s;if(e.isValid()&&!isNaN(n)){switch(i=e._d,r=e._isUTC,t){case"Milliseconds":return r?i.setUTCMilliseconds(n):i.setMilliseconds(n);case"Seconds":return r?i.setUTCSeconds(n):i.setSeconds(n);case"Minutes":return r?i.setUTCMinutes(n):i.setMinutes(n);case"Hours":return r?i.setUTCHours(n):i.setHours(n);case"Date":return r?i.setUTCDate(n):i.setDate(n);case"FullYear":break;default:return}t=n,s=e.month(),e=29!==(e=e.date())||1!==s||Oe(t)?e:28,r?i.setUTCFullYear(t,s,e):i.setFullYear(t,s,e)}}function Re(e,t){return isNaN(e)||isNaN(t)?NaN:(e+=(t-(t=(t%12+12)%12))/12,1==t?Oe(e)?29:28:31-t%7%2)}E=Array.prototype.indexOf||function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},i("M",["MM",2],"Mo",function(){return this.month()+1}),i("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),i("MMMM",0,0,function(e){return this.localeData().months(this,e)}),u("M",n,r),u("MM",n,t),u("MMM",function(e,t){return t.monthsShortRegex(e)}),u("MMMM",function(e,t){return t.monthsRegex(e)}),f(["M","MM"],function(e,t){t[p]=h(e)-1}),f(["MMM","MMMM"],function(e,t,n,i){null!=(i=n._locale.monthsParse(e,i,n._strict))?t[p]=i:w(n).invalidMonth=e});var Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ue="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),je=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,He=xe,We=xe;function Fe(e,t){if(e.isValid()){if("string"==typeof t)if(/^\d+$/.test(t))t=h(t);else if(!v(t=e.localeData().monthsParse(t)))return;var n=(n=e.date())<29?n:Math.min(n,Re(e.year(),t));e._isUTC?e._d.setUTCMonth(t,n):e._d.setMonth(t,n)}}function Ve(e){return null!=e?(Fe(this,e),m.updateOffset(this,!0),this):Ie(this,"Month")}function Ge(){function e(e,t){return t.length-e.length}for(var t,n,i=[],r=[],s=[],o=0;o<12;o++)n=c([2e3,o]),t=S(this.monthsShort(n,"")),n=S(this.months(n,"")),i.push(t),r.push(n),s.push(n),s.push(t);i.sort(e),r.sort(e),s.sort(e),this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Be(e,t,n,i,r,s,o){var a;return e<100&&0<=e?(a=new Date(e+400,t,n,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,i,r,s,o),a}function Ze(e){var t;return e<100&&0<=e?((t=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,t)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function qe(e,t,n){return(n=7+t-n)-(7+Ze(e,0,n).getUTCDay()-t)%7-1}function Je(e,t,n,i,r){var s,n=(t=1+7*(t-1)+(7+n-i)%7+qe(e,i,r))<=0?Ne(s=e-1)+t:t>Ne(e)?(s=e+1,t-Ne(e)):(s=e,t);return{year:s,dayOfYear:n}}function ze(e,t,n){var i,r,s=qe(e.year(),t,n);return(s=Math.floor((e.dayOfYear()-s-1)/7)+1)<1?i=s+T(r=e.year()-1,t,n):s>T(e.year(),t,n)?(i=s-T(e.year(),t,n),r=e.year()+1):(r=e.year(),i=s),{week:i,year:r}}function T(e,t,n){var i=qe(e,t,n),t=qe(e+1,t,n);return(Ne(e)-i+t)/7}function $e(e,t){return e.slice(t,7).concat(e.slice(0,t))}i("w",["ww",2],"wo","week"),i("W",["WW",2],"Wo","isoWeek"),u("w",n,r),u("ww",n,t),u("W",n,r),u("WW",n,t),Me(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=h(e)}),i("d",0,"do","day"),i("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),i("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),i("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),i("e",0,0,"weekday"),i("E",0,0,"isoWeekday"),u("d",n),u("e",n),u("E",n),u("dd",function(e,t){return t.weekdaysMinRegex(e)}),u("ddd",function(e,t){return t.weekdaysShortRegex(e)}),u("dddd",function(e,t){return t.weekdaysRegex(e)}),Me(["dd","ddd","dddd"],function(e,t,n,i){null!=(i=n._locale.weekdaysParse(e,i,n._strict))?t.d=i:w(n).invalidWeekday=e}),Me(["d","e","E"],function(e,t,n,i){t[i]=h(e)});var Xe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Qe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ke="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),et=xe,tt=xe,nt=xe;function it(){function e(e,t){return t.length-e.length}for(var t,n,i,r=[],s=[],o=[],a=[],l=0;l<7;l++)i=c([2e3,1]).day(l),t=S(this.weekdaysMin(i,"")),n=S(this.weekdaysShort(i,"")),i=S(this.weekdays(i,"")),r.push(t),s.push(n),o.push(i),a.push(t),a.push(n),a.push(i);r.sort(e),s.sort(e),o.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function rt(){return this.hours()%12||12}function st(e,t){i(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function ot(e,t){return t._meridiemParse}i("H",["HH",2],0,"hour"),i("h",["hh",2],0,rt),i("k",["kk",2],0,function(){return this.hours()||24}),i("hmm",0,0,function(){return""+rt.apply(this)+s(this.minutes(),2)}),i("hmmss",0,0,function(){return""+rt.apply(this)+s(this.minutes(),2)+s(this.seconds(),2)}),i("Hmm",0,0,function(){return""+this.hours()+s(this.minutes(),2)}),i("Hmmss",0,0,function(){return""+this.hours()+s(this.minutes(),2)+s(this.seconds(),2)}),st("a",!0),st("A",!1),u("a",ot),u("A",ot),u("H",n,l),u("h",n,r),u("k",n,r),u("HH",n,t),u("hh",n,t),u("kk",n,t),u("hmm",pe),u("hmmss",me),u("Hmm",pe),u("Hmmss",me),f(["H","HH"],k),f(["k","kk"],function(e,t,n){e=h(e),t[k]=24===e?0:e}),f(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),f(["h","hh"],function(e,t,n){t[k]=h(e),w(n).bigHour=!0}),f("hmm",function(e,t,n){var i=e.length-2;t[k]=h(e.substr(0,i)),t[M]=h(e.substr(i)),w(n).bigHour=!0}),f("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[k]=h(e.substr(0,i)),t[M]=h(e.substr(i,2)),t[O]=h(e.substr(r)),w(n).bigHour=!0}),f("Hmm",function(e,t,n){var i=e.length-2;t[k]=h(e.substr(0,i)),t[M]=h(e.substr(i))}),f("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[k]=h(e.substr(0,i)),t[M]=h(e.substr(i,2)),t[O]=h(e.substr(r))});var at,xe=Le("Hours",!0),lt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Ue,week:{dow:0,doy:6},weekdays:Xe,weekdaysMin:Ke,weekdaysShort:Qe,meridiemParse:/[ap]\.?m?\.?/i},D={},ct={};function ut(e){return e&&e.toLowerCase().replace("_","-")}function dt(e){var t;if(void 0===D[e]&&"undefined"!=typeof module&&module&&module.exports&&e&&e.match("^[^/\\\\]*$"))try{t=at._abbr,require("./locale/"+e),ht(t)}catch(t){D[e]=null}return D[e]}function ht(e,t){return e&&((t=_(t)?N(e):ft(e,t))?at=t:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),at._abbr}function ft(e,t){if(null===t)return delete D[e],null;var n,i=lt;if(t.abbr=e,null!=D[e])X("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=D[e]._config;else if(null!=t.parentLocale)if(null!=D[t.parentLocale])i=D[t.parentLocale]._config;else{if(null==(n=dt(t.parentLocale)))return ct[t.parentLocale]||(ct[t.parentLocale]=[]),ct[t.parentLocale].push({name:e,config:t}),null;i=n._config}return D[e]=new K(Q(i,t)),ct[e]&&ct[e].forEach(function(e){ft(e.name,e.config)}),ht(e),D[e]}function N(e){var t;if(e=e&&e._locale&&e._locale._abbr?e._locale._abbr:e){if(!y(e)){if(t=dt(e))return t;e=[e]}for(var n,i,r,s,o=e,a=0;a<o.length;){for(n=(s=ut(o[a]).split("-")).length,i=(i=ut(o[a+1]))?i.split("-"):null;0<n;){if(r=dt(s.slice(0,n).join("-")))return r;if(i&&i.length>=n&&function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i+=1)if(e[i]!==t[i])return i;return n}(s,i)>=n-1)break;n--}a++}}return at}function pt(e){var t=e._a;return t&&-2===w(e).overflow&&(t=t[p]<0||11<t[p]?p:t[C]<1||t[C]>Re(t[x],t[p])?C:t[k]<0||24<t[k]||24===t[k]&&(0!==t[M]||0!==t[O]||0!==t[Ee])?k:t[M]<0||59<t[M]?M:t[O]<0||59<t[O]?O:t[Ee]<0||999<t[Ee]?Ee:-1,w(e)._overflowDayOfYear&&(t<x||C<t)&&(t=C),w(e)._overflowWeeks&&-1===t&&(t=Te),w(e)._overflowWeekday&&-1===t&&(t=De),w(e).overflow=t),e}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,yt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/Z|[+-]\d\d(?::?\d\d)?/,_t=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],vt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wt=/^\/?Date\((-?\d+)/i,bt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,St={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xt(e){var t,n,i,r,s,o,a=e._i,l=mt.exec(a)||yt.exec(a),a=_t.length,c=vt.length;if(l){for(w(e).iso=!0,t=0,n=a;t<n;t++)if(_t[t][1].exec(l[1])){r=_t[t][0],i=!1!==_t[t][2];break}if(null==r)e._isValid=!1;else{if(l[3]){for(t=0,n=c;t<n;t++)if(vt[t][1].exec(l[3])){s=(l[2]||" ")+vt[t][0];break}if(null==s)return e._isValid=!1}if(i||null==s){if(l[4]){if(!gt.exec(l[4]))return e._isValid=!1;o="Z"}e._f=r+(s||"")+(o||""),Ot(e)}else e._isValid=!1}}else e._isValid=!1}function Ct(e){var t,n,i,r,s,o,a,l=bt.exec(e._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));l?(t=l[4],n=l[3],i=l[2],r=l[5],s=l[6],o=l[7],t=[(a=parseInt(t,10))<=49?2e3+a:a<=999?1900+a:a,Ue.indexOf(n),parseInt(i,10),parseInt(r,10),parseInt(s,10)],o&&t.push(parseInt(o,10)),a=t,n=l[1],i=a,r=e,n&&Qe.indexOf(n)!==new Date(i[0],i[1],i[2]).getDay()?(w(r).weekdayMismatch=!0,r._isValid=!1):(e._a=a,e._tzm=(a=l[8],s=l[9],l=l[10],a?St[a]:s?0:((a=parseInt(l,10))-(s=a%100))/100*60+s),e._d=Ze.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),w(e).rfc2822=!0)):e._isValid=!1}function kt(e,t,n){return null!=e?e:null!=t?t:n}function Mt(e){var t,n,i,r,s,o,a,l,c,u,d,h=[];if(!e._d){for(i=e,r=new Date(m.now()),n=i._useUTC?[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()]:[r.getFullYear(),r.getMonth(),r.getDate()],e._w&&null==e._a[C]&&null==e._a[p]&&(null!=(r=(i=e)._w).GG||null!=r.W||null!=r.E?(l=1,c=4,s=kt(r.GG,i._a[x],ze(Y(),1,4).year),o=kt(r.W,1),((a=kt(r.E,1))<1||7<a)&&(u=!0)):(l=i._locale._week.dow,c=i._locale._week.doy,d=ze(Y(),l,c),s=kt(r.gg,i._a[x],d.year),o=kt(r.w,d.week),null!=r.d?((a=r.d)<0||6<a)&&(u=!0):null!=r.e?(a=r.e+l,(r.e<0||6<r.e)&&(u=!0)):a=l),o<1||o>T(s,l,c)?w(i)._overflowWeeks=!0:null!=u?w(i)._overflowWeekday=!0:(d=Je(s,o,a,l,c),i._a[x]=d.year,i._dayOfYear=d.dayOfYear)),null!=e._dayOfYear&&(r=kt(e._a[x],n[x]),(e._dayOfYear>Ne(r)||0===e._dayOfYear)&&(w(e)._overflowDayOfYear=!0),u=Ze(r,0,e._dayOfYear),e._a[p]=u.getUTCMonth(),e._a[C]=u.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=h[t]=n[t];for(;t<7;t++)e._a[t]=h[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[k]&&0===e._a[M]&&0===e._a[O]&&0===e._a[Ee]&&(e._nextDay=!0,e._a[k]=0),e._d=(e._useUTC?Ze:Be).apply(null,h),s=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[k]=24),e._w&&void 0!==e._w.d&&e._w.d!==s&&(w(e).weekdayMismatch=!0)}}function Ot(e){if(e._f===m.ISO_8601)xt(e);else if(e._f===m.RFC_2822)Ct(e);else{e._a=[],w(e).empty=!0;for(var t,n,i,r=""+e._i,s=r.length,o=0,a=oe(e._f,e._locale).match(te)||[],l=a.length,c=0;c<l;c++)t=a[c],(p=(r.match((p=e,g(Ce,f=t)?Ce[f](p._strict,p._locale):new RegExp(S(f.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))))||[])[0])&&(0<(n=r.substr(0,r.indexOf(p))).length&&w(e).unusedInput.push(n),r=r.slice(r.indexOf(p)+p.length),o+=p.length),re[t]?(p?w(e).empty=!1:w(e).unusedTokens.push(t),n=t,f=e,null!=(i=p)&&g(ke,n)&&ke[n](i,f._a,f,n)):e._strict&&!p&&w(e).unusedTokens.push(t);w(e).charsLeftOver=s-o,0<r.length&&w(e).unusedInput.push(r),e._a[k]<=12&&!0===w(e).bigHour&&0<e._a[k]&&(w(e).bigHour=void 0),w(e).parsedDateParts=e._a.slice(0),w(e).meridiem=e._meridiem,e._a[k]=(u=e._locale,d=e._a[k],null==(h=e._meridiem)?d:null!=u.meridiemHour?u.meridiemHour(d,h):null==u.isPM||((u=u.isPM(h))&&d<12&&(d+=12),u)||12!==d?d:0),null!==(s=w(e).era)&&(e._a[x]=e._locale.erasConvertYear(s,e._a[x])),Mt(e),pt(e)}var u,d,h,f,p}function Et(e){var t,n,i,r=e._i,s=e._f;if(e._locale=e._locale||N(e._l),null===r||void 0===s&&""===r)return V({nullInput:!0});if("string"==typeof r&&(e._i=r=e._locale.preparse(r)),b(r))return new J(pt(r));if(j(r))e._d=r;else if(y(s)){var o,a,l,c,u,d,h=e,f=!1,p=h._f.length;if(0===p)w(h).invalidFormat=!0,h._d=new Date(NaN);else{for(c=0;c<p;c++)u=0,d=!1,o=q({},h),null!=h._useUTC&&(o._useUTC=h._useUTC),o._f=h._f[c],Ot(o),F(o)&&(d=!0),u=(u+=w(o).charsLeftOver)+10*w(o).unusedTokens.length,w(o).score=u,f?u<l&&(l=u,a=o):(null==l||u<l||d)&&(l=u,a=o,d)&&(f=!0);W(h,a||o)}}else s?Ot(e):_(s=(r=e)._i)?r._d=new Date(m.now()):j(s)?r._d=new Date(s.valueOf()):"string"==typeof s?(n=r,null!==(t=wt.exec(n._i))?n._d=new Date(+t[1]):(xt(n),!1===n._isValid&&(delete n._isValid,Ct(n),!1===n._isValid)&&(delete n._isValid,n._strict?n._isValid=!1:m.createFromInputFallback(n)))):y(s)?(r._a=H(s.slice(0),function(e){return parseInt(e,10)}),Mt(r)):A(s)?(t=r)._d||(i=void 0===(n=le(t._i)).day?n.date:n.day,t._a=H([n.year,n.month,i,n.hour,n.minute,n.second,n.millisecond],function(e){return e&&parseInt(e,10)}),Mt(t)):v(s)?r._d=new Date(s):m.createFromInputFallback(r);return F(e)||(e._d=null),e}function Tt(e,t,n,i,r){var s={};return!0!==t&&!1!==t||(i=t,t=void 0),!0!==n&&!1!==n||(i=n,n=void 0),(A(e)&&U(e)||y(e)&&0===e.length)&&(e=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=e,s._f=t,s._strict=i,(r=new J(pt(Et(r=s))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Y(e,t,n,i){return Tt(e,t,n,i,!1)}function Dt(e,t){var n,i;if(!(t=1===t.length&&y(t[0])?t[0]:t).length)return Y();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}m.createFromInputFallback=e("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),m.ISO_8601=function(){},m.RFC_2822=function(){};var pe=e("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:V()}),me=e("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Y.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:V()}),Nt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Yt(e){var t=(e=le(e)).year||0,n=e.quarter||0,i=e.month||0,r=e.week||e.isoWeek||0,s=e.day||0,o=e.hour||0,a=e.minute||0,l=e.second||0,c=e.millisecond||0;this._isValid=function(e){var t,n,i=!1,r=Nt.length;for(t in e)if(g(e,t)&&(-1===E.call(Nt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<r;++n)if(e[Nt[n]]){if(i)return!1;parseFloat(e[Nt[n]])!==h(e[Nt[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*l+6e4*a+1e3*o*60*60,this._days=+s+7*r,this._months=+i+3*n+12*t,this._data={},this._locale=N(),this._bubble()}function Lt(e){return e instanceof Yt}function It(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Pt(e,n){i(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+s(~~(e/60),2)+n+s(~~e%60,2)})}Pt("Z",":"),Pt("ZZ",""),u("Z",Se),u("ZZ",Se),f(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=At(Se,e)});var Rt=/([\+\-]|\d\d)/gi;function At(e,t){return null===(t=(t||"").match(e))?null:0===(t=60*(e=((t[t.length-1]||[])+"").match(Rt)||["-",0,0])[1]+h(e[2]))?0:"+"===e[0]?t:-t}function Ut(e,t){var n;return t._isUTC?(t=t.clone(),n=(b(e)||j(e)?e:Y(e)).valueOf()-t.valueOf(),t._d.setTime(t._d.valueOf()+n),m.updateOffset(t,!1),t):Y(e).local()}function jt(e){return-Math.round(e._d.getTimezoneOffset())}function Ht(){return!!this.isValid()&&this._isUTC&&0===this._offset}m.updateOffset=function(){};var Wt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ft=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function L(e,t){var n,i,r,s,o=e;return Lt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:v(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(t=Wt.exec(e))?(n="-"===t[1]?-1:1,o={y:0,d:h(t[C])*n,h:h(t[k])*n,m:h(t[M])*n,s:h(t[O])*n,ms:h(It(1e3*t[Ee]))*n}):(t=Ft.exec(e))?(n="-"===t[1]?-1:1,o={y:Vt(t[2],n),M:Vt(t[3],n),w:Vt(t[4],n),d:Vt(t[5],n),h:Vt(t[6],n),m:Vt(t[7],n),s:Vt(t[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(i=Y(o.from),r=Y(o.to),t=i.isValid()&&r.isValid()?(r=Ut(r,i),i.isBefore(r)?s=Gt(i,r):((s=Gt(r,i)).milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0},(o={}).ms=t.milliseconds,o.M=t.months),n=new Yt(o),Lt(e)&&g(e,"_locale")&&(n._locale=e._locale),Lt(e)&&g(e,"_isValid")&&(n._isValid=e._isValid),n}function Vt(e,t){return e=e&&parseFloat(e.replace(",",".")),(isNaN(e)?0:e)*t}function Gt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Bt(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(X(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Zt(this,L(e,t),i),this}}function Zt(e,t,n,i){var r=t._milliseconds,s=It(t._days),t=It(t._months);e.isValid()&&(i=null==i||i,t&&Fe(e,Ie(e,"Month")+t*n),s&&Pe(e,"Date",Ie(e,"Date")+s*n),r&&e._d.setTime(e._d.valueOf()+r*n),i)&&m.updateOffset(e,s||t)}function qt(e){return"string"==typeof e||e instanceof String}function Jt(e,t){var n,i;return e.date()<t.date()?-Jt(t,e):-((n=12*(t.year()-e.year())+(t.month()-e.month()))+(t-(i=e.clone().add(n,"months"))<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(1+n,"months")-i)))||0}function zt(e){return void 0===e?this._locale._abbr:(null!=(e=N(e))&&(this._locale=e),this)}function $t(){return this._locale}L.fn=Yt.prototype,L.invalid=function(){return L(NaN)},Ae=Bt(1,"add"),Xe=Bt(-1,"subtract"),m.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",m.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ke=e("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),Xt=126227808e5;function Qt(e,t){return(e%t+t)%t}function Kt(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-Xt:new Date(e,t,n).valueOf()}function en(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-Xt:Date.UTC(e,t,n)}function tn(e,t){return t.erasAbbrRegex(e)}function nn(){for(var e,t,n,i=[],r=[],s=[],o=[],a=this.eras(),l=0,c=a.length;l<c;++l)e=S(a[l].name),t=S(a[l].abbr),n=S(a[l].narrow),r.push(e),i.push(t),s.push(n),o.push(e),o.push(t),o.push(n);this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}function rn(e,t){i(0,[e,e.length],0,t)}function sn(e,t,n,i,r){var s;return null==e?ze(this,i,r).year:(s=T(e,i,r),function(e,t,n,i,r){return t=Ze((e=Je(e,t,n,i,r)).year,0,e.dayOfYear),this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()),this.date(t.getUTCDate()),this}.call(this,e,t=s<t?s:t,n,i,r))}i("N",0,0,"eraAbbr"),i("NN",0,0,"eraAbbr"),i("NNN",0,0,"eraAbbr"),i("NNNN",0,0,"eraName"),i("NNNNN",0,0,"eraNarrow"),i("y",["y",1],"yo","eraYear"),i("y",["yy",2],0,"eraYear"),i("y",["yyy",3],0,"eraYear"),i("y",["yyyy",4],0,"eraYear"),u("N",tn),u("NN",tn),u("NNN",tn),u("NNNN",function(e,t){return t.erasNameRegex(e)}),u("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),f(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,i){(i=n._locale.erasParse(e,i,n._strict))?w(n).era=i:w(n).invalidEra=e}),u("y",ve),u("yy",ve),u("yyy",ve),u("yyyy",ve),u("yo",function(e,t){return t._eraYearOrdinalRegex||ve}),f(["y","yy","yyy","yyyy"],x),f(["yo"],function(e,t,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[x]=n._locale.eraYearOrdinalParse(e,r):t[x]=parseInt(e,10)}),i(0,["gg",2],0,function(){return this.weekYear()%100}),i(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),u("G",we),u("g",we),u("GG",n,t),u("gg",n,t),u("GGGG",ge,he),u("gggg",ge,he),u("GGGGG",_e,fe),u("ggggg",_e,fe),Me(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=h(e)}),Me(["gg","GG"],function(e,t,n,i){t[i]=m.parseTwoDigitYear(e)}),i("Q",0,"Qo","quarter"),u("Q",ue),f("Q",function(e,t){t[p]=3*(h(e)-1)}),i("D",["DD",2],"Do","date"),u("D",n,r),u("DD",n,t),u("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),f(["D","DD"],C),f("Do",function(e,t){t[C]=h(e.match(n)[0])}),ge=Le("Date",!0),i("DDD",["DDDD",3],"DDDo","dayOfYear"),u("DDD",ye),u("DDDD",de),f(["DDD","DDDD"],function(e,t,n){n._dayOfYear=h(e)}),i("m",["mm",2],0,"minute"),u("m",n,l),u("mm",n,t),f(["m","mm"],M);var on,he=Le("Minutes",!1),_e=(i("s",["ss",2],0,"second"),u("s",n,l),u("ss",n,t),f(["s","ss"],O),Le("Seconds",!1));for(i("S",0,0,function(){return~~(this.millisecond()/100)}),i(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),i(0,["SSS",3],0,"millisecond"),i(0,["SSSS",4],0,function(){return 10*this.millisecond()}),i(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),i(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),i(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),i(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),i(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),u("S",ye,ue),u("SS",ye,t),u("SSS",ye,de),on="SSSS";on.length<=9;on+="S")u(on,ve);function an(e,t){t[Ee]=h(1e3*("0."+e))}for(on="S";on.length<=9;on+="S")f(on,an);function ln(e){return e}function cn(e,t,n,i){var r=N(),i=c().set(i,t);return r[n](i,e)}function un(e,t,n){if(v(e)&&(t=e,e=void 0),e=e||"",null!=t)return cn(e,t,n,"month");for(var i=[],r=0;r<12;r++)i[r]=cn(e,r,n,"month");return i}function dn(e,t,n,i){"boolean"==typeof e?v(t)&&(n=t,t=void 0):(t=e,e=!1,v(n=t)&&(n=t,t=void 0)),t=t||"";var r,s=N(),o=e?s._week.dow:0,a=[];if(null!=n)return cn(t,(n+o)%7,i,"day");for(r=0;r<7;r++)a[r]=cn(t,(r+o)%7,i,"day");return a}fe=Le("Milliseconds",!1),i("z",0,0,"zoneAbbr"),i("zz",0,0,"zoneName"),(r=J.prototype).add=Ae,r.calendar=function(e,t){1===arguments.length&&(arguments[0]?b(n=arguments[0])||j(n)||qt(n)||v(n)||(s=y(i=n),r=!1,s&&(r=0===i.filter(function(e){return!v(e)&&qt(i)}).length),s&&r)||function(e){for(var t=A(e)&&!U(e),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r=i.length,s=0;s<r;s+=1)n=n||g(e,i[s]);return t&&n}(n)||null==n?(e=arguments[0],t=void 0):function(e){for(var t=A(e)&&!U(e),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r=0;r<i.length;r+=1)n=n||g(e,i[r]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var n,i,r,e=e||Y(),s=Ut(e,this).startOf("day"),s=m.calendarFormat(this,s)||"sameElse",t=t&&(o(t[s])?t[s].call(this,e):t[s]);return this.format(t||this.localeData().calendar(s,this,Y(e)))},r.clone=function(){return new J(this)},r.diff=function(e,t,n){var i,r,s;if(!this.isValid())return NaN;if(!(i=Ut(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=a(t)){case"year":s=Jt(this,i)/12;break;case"month":s=Jt(this,i);break;case"quarter":s=Jt(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:d(s)},r.endOf=function(e){var t,n;if(void 0!==(e=a(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?en:Kt,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-Qt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-Qt(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-Qt(t,1e3)-1}this._d.setTime(t),m.updateOffset(this,!0)}return this},r.format=function(e){return e=e||(this.isUtc()?m.defaultFormatUtc:m.defaultFormat),e=se(this,e),this.localeData().postformat(e)},r.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Y(e).isValid())?L({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.fromNow=function(e){return this.from(Y(),e)},r.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Y(e).isValid())?L({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},r.toNow=function(e){return this.to(Y(),e)},r.get=function(e){return o(this[e=a(e)])?this[e]():this},r.invalidAt=function(){return w(this).overflow},r.isAfter=function(e,t){return e=b(e)?e:Y(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=a(t)||"millisecond")?this.valueOf()>e.valueOf():e.valueOf()<this.clone().startOf(t).valueOf())},r.isBefore=function(e,t){return e=b(e)?e:Y(e),!(!this.isValid()||!e.isValid())&&("millisecond"===(t=a(t)||"millisecond")?this.valueOf()<e.valueOf():this.clone().endOf(t).valueOf()<e.valueOf())},r.isBetween=function(e,t,n,i){return e=b(e)?e:Y(e),t=b(t)?t:Y(t),!!(this.isValid()&&e.isValid()&&t.isValid())&&("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},r.isSame=function(e,t){e=b(e)?e:Y(e);return!(!this.isValid()||!e.isValid())&&("millisecond"===(t=a(t)||"millisecond")?this.valueOf()===e.valueOf():(e=e.valueOf(),this.clone().startOf(t).valueOf()<=e&&e<=this.clone().endOf(t).valueOf()))},r.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},r.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},r.isValid=function(){return F(this)},r.lang=Ke,r.locale=zt,r.localeData=$t,r.max=me,r.min=pe,r.parsingFlags=function(){return W({},w(this))},r.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)g(e,t)&&n.push({unit:t,priority:ce[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=le(e)),i=n.length,r=0;r<i;r++)this[n[r].unit](e[n[r].unit]);else if(o(this[e=a(e)]))return this[e](t);return this},r.startOf=function(e){var t,n;if(void 0!==(e=a(e))&&"millisecond"!==e&&this.isValid()){switch(n=this._isUTC?en:Kt,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=Qt(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=Qt(t,6e4);break;case"second":t=this._d.valueOf(),t-=Qt(t,1e3)}this._d.setTime(t),m.updateOffset(this,!0)}return this},r.subtract=Xe,r.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},r.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},r.toDate=function(){return new Date(this.valueOf())},r.toISOString=function(e){var t;return this.isValid()?(t=(e=!0!==e)?this.clone().utc():this).year()<0||9999<t.year()?se(t,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):o(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",se(t,"Z")):se(t,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ"):null},r.inspect=function(){var e,t,n;return this.isValid()?(t="moment",e="",this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z"),t="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(t+n+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')):"moment.invalid(/* "+this._i+" */)"},"undefined"!=typeof Symbol&&null!=Symbol.for&&(r[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),r.toJSON=function(){return this.isValid()?this.toISOString():null},r.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},r.unix=function(){return Math.floor(this.valueOf()/1e3)},r.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},r.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},r.eraName=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},r.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},r.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,i=t.length;n<i;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},r.eraYear=function(){for(var e,t,n=this.localeData().eras(),i=0,r=n.length;i<r;++i)if(e=n[i].since<=n[i].until?1:-1,t=this.clone().startOf("day").valueOf(),n[i].since<=t&&t<=n[i].until||n[i].until<=t&&t<=n[i].since)return(this.year()-m(n[i].since).year())*e+n[i].offset;return this.year()},r.year=Ye,r.isLeapYear=function(){return Oe(this.year())},r.weekYear=function(e){return sn.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)},r.isoWeekYear=function(e){return sn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},r.quarter=r.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},r.month=Ve,r.daysInMonth=function(){return Re(this.year(),this.month())},r.week=r.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},r.isoWeek=r.isoWeeks=function(e){var t=ze(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},r.weeksInYear=function(){var e=this.localeData()._week;return T(this.year(),e.dow,e.doy)},r.weeksInWeekYear=function(){var e=this.localeData()._week;return T(this.weekYear(),e.dow,e.doy)},r.isoWeeksInYear=function(){return T(this.year(),1,4)},r.isoWeeksInISOWeekYear=function(){return T(this.isoWeekYear(),1,4)},r.date=ge,r.day=r.days=function(e){var t,n,i;return this.isValid()?(t=Ie(this,"Day"),null!=e?(n=e,i=this.localeData(),e="string"!=typeof n?n:isNaN(n)?"number"==typeof(n=i.weekdaysParse(n))?n:null:parseInt(n,10),this.add(e-t,"d")):t):null!=e?this:NaN},r.weekday=function(e){var t;return this.isValid()?(t=(this.day()+7-this.localeData()._week.dow)%7,null==e?t:this.add(e-t,"d")):null!=e?this:NaN},r.isoWeekday=function(e){var t,n;return this.isValid()?null!=e?(t=e,n=this.localeData(),n="string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t,this.day(this.day()%7?n:n-7)):this.day()||7:null!=e?this:NaN},r.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},r.hour=r.hours=xe,r.minute=r.minutes=he,r.second=r.seconds=_e,r.millisecond=r.milliseconds=fe,r.utcOffset=function(e,t,n){var i,r=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?r:jt(this);if("string"==typeof e){if(null===(e=At(Se,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=jt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==e&&(!t||this._changeInProgress?Zt(this,L(e-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,m.updateOffset(this,!0),this._changeInProgress=null)),this},r.utc=function(e){return this.utcOffset(0,e)},r.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e)&&this.subtract(jt(this),"m"),this},r.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=At(be,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},r.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Y(e).utcOffset():0,(this.utcOffset()-e)%60==0)},r.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},r.isLocal=function(){return!!this.isValid()&&!this._isUTC},r.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},r.isUtc=Ht,r.isUTC=Ht,r.zoneAbbr=function(){return this._isUTC?"UTC":""},r.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},r.dates=e("dates accessor is deprecated. Use date instead.",ge),r.months=e("months accessor is deprecated. Use month instead",Ve),r.years=e("years accessor is deprecated. Use year instead",Ye),r.zone=e("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?(this.utcOffset(e="string"!=typeof e?-e:e,t),this):-this.utcOffset()}),r.isDSTShifted=e("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){var e,t;return _(this._isDSTShifted)&&(q(e={},this),(e=Et(e))._a?(t=(e._isUTC?c:Y)(e._a),this._isDSTShifted=this.isValid()&&0<function(e,t){for(var n=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,s=0;s<n;s++)h(e[s])!==h(t[s])&&r++;return r+i}(e._a,t.toArray())):this._isDSTShifted=!1),this._isDSTShifted}),(l=K.prototype).calendar=function(e,t,n){return o(e=this._calendar[e]||this._calendar.sameElse)?e.call(t,n):e},l.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(te).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},l.invalidDate=function(){return this._invalidDate},l.ordinal=function(e){return this._ordinal.replace("%d",e)},l.preparse=ln,l.postformat=ln,l.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return o(r)?r(e,t,n,i):r.replace(/%d/i,e)},l.pastFuture=function(e,t){return o(e=this._relativeTime[0<e?"future":"past"])?e(t):e.replace(/%s/i,t)},l.set=function(e){var t,n;for(n in e)g(e,n)&&(o(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},l.eras=function(e,t){for(var n,i=this._eras||N("en")._eras,r=0,s=i.length;r<s;++r)switch("string"==typeof i[r].since&&(n=m(i[r].since).startOf("day"),i[r].since=n.valueOf()),typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":n=m(i[r].until).startOf("day").valueOf(),i[r].until=n.valueOf()}return i},l.erasParse=function(e,t,n){var i,r,s,o,a,l=this.eras();for(e=e.toUpperCase(),i=0,r=l.length;i<r;++i)if(s=l[i].name.toUpperCase(),o=l[i].abbr.toUpperCase(),a=l[i].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[i];break;case"NNNN":if(s===e)return l[i];break;case"NNNNN":if(a===e)return l[i]}else if(0<=[s,o,a].indexOf(e))return l[i]},l.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?m(e.since).year():m(e.since).year()+(t-e.offset)*n},l.erasAbbrRegex=function(e){return g(this,"_erasAbbrRegex")||nn.call(this),e?this._erasAbbrRegex:this._erasRegex},l.erasNameRegex=function(e){return g(this,"_erasNameRegex")||nn.call(this),e?this._erasNameRegex:this._erasRegex},l.erasNarrowRegex=function(e){return g(this,"_erasNarrowRegex")||nn.call(this),e?this._erasNarrowRegex:this._erasRegex},l.months=function(e,t){return e?(y(this._months)?this._months:this._months[(this._months.isFormat||je).test(t)?"format":"standalone"])[e.month()]:y(this._months)?this._months:this._months.standalone},l.monthsShort=function(e,t){return e?(y(this._monthsShort)?this._monthsShort:this._monthsShort[je.test(t)?"format":"standalone"])[e.month()]:y(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},l.monthsParse=function(e,t,n){var i,r;if(this._monthsParseExact)return function(e,t,n){var i,r,s,e=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=c([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=E.call(this._shortMonthsParse,e))?r:null:-1!==(r=E.call(this._longMonthsParse,e))?r:null:"MMM"===t?-1!==(r=E.call(this._shortMonthsParse,e))||-1!==(r=E.call(this._longMonthsParse,e))?r:null:-1!==(r=E.call(this._longMonthsParse,e))||-1!==(r=E.call(this._shortMonthsParse,e))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=c([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},l.monthsRegex=function(e){return this._monthsParseExact?(g(this,"_monthsRegex")||Ge.call(this),e?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=We),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},l.monthsShortRegex=function(e){return this._monthsParseExact?(g(this,"_monthsRegex")||Ge.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,"_monthsShortRegex")||(this._monthsShortRegex=He),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},l.week=function(e){return ze(e,this._week.dow,this._week.doy).week},l.firstDayOfYear=function(){return this._week.doy},l.firstDayOfWeek=function(){return this._week.dow},l.weekdays=function(e,t){return t=y(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"],!0===e?$e(t,this._week.dow):e?t[e.day()]:t},l.weekdaysMin=function(e){return!0===e?$e(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},l.weekdaysShort=function(e){return!0===e?$e(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},l.weekdaysParse=function(e,t,n){var i,r;if(this._weekdaysParseExact)return function(e,t,n){var i,r,s,e=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=c([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=E.call(this._weekdaysParse,e))?r:null:"ddd"===t?-1!==(r=E.call(this._shortWeekdaysParse,e))?r:null:-1!==(r=E.call(this._minWeekdaysParse,e))?r:null:"dddd"===t?-1!==(r=E.call(this._weekdaysParse,e))||-1!==(r=E.call(this._shortWeekdaysParse,e))||-1!==(r=E.call(this._minWeekdaysParse,e))?r:null:"ddd"===t?-1!==(r=E.call(this._shortWeekdaysParse,e))||-1!==(r=E.call(this._weekdaysParse,e))||-1!==(r=E.call(this._minWeekdaysParse,e))?r:null:-1!==(r=E.call(this._minWeekdaysParse,e))||-1!==(r=E.call(this._weekdaysParse,e))||-1!==(r=E.call(this._shortWeekdaysParse,e))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=c([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},l.weekdaysRegex=function(e){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=et),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},l.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=tt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},l.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||it.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=nt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},l.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},l.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ht("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===h(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),m.lang=e("moment.lang is deprecated. Use moment.locale instead.",ht),m.langData=e("moment.langData is deprecated. Use moment.localeData instead.",N);var I=Math.abs;function hn(e,t,n,i){return t=L(t,n),e._milliseconds+=i*t._milliseconds,e._days+=i*t._days,e._months+=i*t._months,e._bubble()}function fn(e){return e<0?Math.floor(e):Math.ceil(e)}function pn(e){return 4800*e/146097}function mn(e){return 146097*e/4800}function yn(e){return function(){return this.as(e)}}function gn(e){return function(){return this.isValid()?this._data[e]:NaN}}ue=yn("ms"),t=yn("s"),ye=yn("m"),de=yn("h"),Ae=yn("d"),me=yn("w"),pe=yn("M"),Xe=yn("Q"),xe=yn("y"),he=ue;var _e=gn("milliseconds"),fe=gn("seconds"),ge=gn("minutes"),Ye=gn("hours"),l=gn("days"),_n=gn("months"),vn=gn("years"),wn=Math.round,bn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};var Sn=Math.abs;function xn(e){return(0<e)-(e<0)||+e}function Cn(){var e,t,n,i,r,s,o,a,l,c,u;return this.isValid()?(e=Sn(this._milliseconds)/1e3,t=Sn(this._days),n=Sn(this._months),(a=this.asSeconds())?(i=d(e/60),r=d(i/60),e%=60,i%=60,s=d(n/12),n%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",l=xn(this._months)!==xn(a)?"-":"",c=xn(this._days)!==xn(a)?"-":"",u=xn(this._milliseconds)!==xn(a)?"-":"",(a<0?"-":"")+"P"+(s?l+s+"Y":"")+(n?l+n+"M":"")+(t?c+t+"D":"")+(r||i||e?"T":"")+(r?u+r+"H":"")+(i?u+i+"M":"")+(e?u+o+"S":"")):"P0D"):this.localeData().invalidDate()}var P=Yt.prototype;return P.isValid=function(){return this._isValid},P.abs=function(){var e=this._data;return this._milliseconds=I(this._milliseconds),this._days=I(this._days),this._months=I(this._months),e.milliseconds=I(e.milliseconds),e.seconds=I(e.seconds),e.minutes=I(e.minutes),e.hours=I(e.hours),e.months=I(e.months),e.years=I(e.years),this},P.add=function(e,t){return hn(this,e,t,1)},P.subtract=function(e,t){return hn(this,e,t,-1)},P.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=a(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+pn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(mn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},P.asMilliseconds=ue,P.asSeconds=t,P.asMinutes=ye,P.asHours=de,P.asDays=Ae,P.asWeeks=me,P.asMonths=pe,P.asQuarters=Xe,P.asYears=xe,P.valueOf=he,P._bubble=function(){var e=this._milliseconds,t=this._days,n=this._months,i=this._data;return 0<=e&&0<=t&&0<=n||e<=0&&t<=0&&n<=0||(e+=864e5*fn(mn(n)+t),n=t=0),i.milliseconds=e%1e3,e=d(e/1e3),i.seconds=e%60,e=d(e/60),i.minutes=e%60,e=d(e/60),i.hours=e%24,t+=d(e/24),n+=e=d(pn(t)),t-=fn(mn(e)),e=d(n/12),n%=12,i.days=t,i.months=n,i.years=e,this},P.clone=function(){return L(this)},P.get=function(e){return e=a(e),this.isValid()?this[e+"s"]():NaN},P.milliseconds=_e,P.seconds=fe,P.minutes=ge,P.hours=Ye,P.days=l,P.weeks=function(){return d(this.days()/7)},P.months=_n,P.years=vn,P.humanize=function(e,t){var n,i,r,s,o,a,l,c,u,d,h,f;return this.isValid()?(n=!1,s=bn,"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(n=e),"object"==typeof t&&(s=Object.assign({},bn,t),null!=t.s)&&null==t.ss&&(s.ss=t.s-1),e=this.localeData(),r=!n,s=s,o=e,a=L(i=this).abs(),l=wn(a.as("s")),c=wn(a.as("m")),u=wn(a.as("h")),d=wn(a.as("d")),h=wn(a.as("M")),f=wn(a.as("w")),a=wn(a.as("y")),l=(l<=s.ss?["s",l]:l<s.s&&["ss",l])||(c<=1?["m"]:c<s.m&&["mm",c])||(u<=1?["h"]:u<s.h&&["hh",u])||(d<=1?["d"]:d<s.d&&["dd",d]),(l=(l=null!=s.w?l||(f<=1?["w"]:f<s.w&&["ww",f]):l)||(h<=1?["M"]:h<s.M&&["MM",h])||(a<=1?["y"]:["yy",a]))[2]=r,l[3]=0<+i,l[4]=o,t=function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,l),n&&(t=e.pastFuture(+this,t)),e.postformat(t)):this.localeData().invalidDate()},P.toISOString=Cn,P.toString=Cn,P.toJSON=Cn,P.locale=zt,P.localeData=$t,P.toIsoString=e("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Cn),P.lang=Ke,i("X",0,0,"unix"),i("x",0,0,"valueOf"),u("x",we),u("X",/[+-]?\d+(\.\d{1,3})?/),f("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),f("x",function(e,t,n){n._d=new Date(h(e))}),m.version="2.30.1",R=Y,m.fn=r,m.min=function(){return Dt("isBefore",[].slice.call(arguments,0))},m.max=function(){return Dt("isAfter",[].slice.call(arguments,0))},m.now=function(){return Date.now?Date.now():+new Date},m.utc=c,m.unix=function(e){return Y(1e3*e)},m.months=function(e,t){return un(e,t,"months")},m.isDate=j,m.locale=ht,m.invalid=V,m.duration=L,m.isMoment=b,m.weekdays=function(e,t,n){return dn(e,t,n,"weekdays")},m.parseZone=function(){return Y.apply(null,arguments).parseZone()},m.localeData=N,m.isDuration=Lt,m.monthsShort=function(e,t){return un(e,t,"monthsShort")},m.weekdaysMin=function(e,t,n){return dn(e,t,n,"weekdaysMin")},m.defineLocale=ft,m.updateLocale=function(e,t){var n,i;return null!=t?(i=lt,null!=D[e]&&null!=D[e].parentLocale?D[e].set(Q(D[e]._config,t)):(t=Q(i=null!=(n=dt(e))?n._config:i,t),null==n&&(t.abbr=e),(i=new K(t)).parentLocale=D[e],D[e]=i),ht(e)):null!=D[e]&&(null!=D[e].parentLocale?(D[e]=D[e].parentLocale,e===ht()&&ht(e)):null!=D[e]&&delete D[e]),D[e]},m.locales=function(){return ee(D)},m.weekdaysShort=function(e,t,n){return dn(e,t,n,"weekdaysShort")},m.normalizeUnits=a,m.relativeTimeRounding=function(e){return void 0===e?wn:"function"==typeof e&&(wn=e,!0)},m.relativeTimeThreshold=function(e,t){return void 0!==bn[e]&&(void 0===t?bn[e]:(bn[e]=t,"s"===e&&(bn.ss=t-1),!0))},m.calendarFormat=function(e,t){return(e=e.diff(t,"days",!0))<-6?"sameElse":e<-1?"lastWeek":e<0?"lastDay":e<1?"sameDay":e<2?"nextDay":e<7?"nextWeek":"sameElse"},m.prototype=r,m.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},m}),function(){var _,n,f,p,a,m,s={}.hasOwnProperty,o=[].slice;function v(e,t,n,i){this.command=e,this.headers=null!=t?t:{},this.body=null!=n?n:"",this.escapeHeaderValues=null!=i&&i}function e(t){this.ws_fn=function(){var e=t();return e.binaryType="arraybuffer",e},this.reconnect_delay=0,this.counter=0,this.connected=!1,this.heartbeat={outgoing:1e4,incoming:1e4},this.maxWebSocketFrameSize=16384,this.subscriptions={},this.partialData=""}_={LF:"\n",NULL:"\0"},v.prototype.toString=function(){var e,t,n,i=[this.command],r=!1===this.headers["content-length"];for(e in r&&delete this.headers["content-length"],t=this.headers)s.call(t,e)&&(n=t[e],this.escapeHeaderValues&&"CONNECT"!==this.command&&"CONNECTED"!==this.command?i.push(e+":"+v.frEscape(n)):i.push(e+":"+n));return this.body&&!r&&i.push("content-length:"+v.sizeOfUTF8(this.body)),i.push(_.LF+this.body),i.join(_.LF)},v.sizeOfUTF8=function(e){return e?encodeURI(e).match(/%..|./g).length:0},a=function(e,t){var n,i,r,s,o,a,l,c,u,d,h,f,p,m,y,g;for(null==t&&(t=!1),u=e.search(RegExp(""+_.LF+_.LF)),r=(y=e.substring(0,u).split(_.LF)).shift(),s={},g=function(e){return e.replace(/^\s+|\s+$/g,"")},l=0,d=(f=y.reverse()).length;l<d;l++)a=(h=f[l]).indexOf(":"),s[g(h.substring(0,a))]=t&&"CONNECT"!==r&&"CONNECTED"!==r?v.frUnEscape(g(h.substring(a+1))):g(h.substring(a+1));if(n="",y=u+2,s["content-length"])u=parseInt(s["content-length"]),n=(""+e).substring(y,y+u);else for(o=c=p=y,m=e.length;(p<=m?c<m:m<c)&&(i=e.charAt(o))!==_.NULL;o=p<=m?++c:--c)n+=i;return new v(r,s,n,t)},v.unmarshall=function(e,r){var s,o,t;return null==r&&(r=!1),o=e.split(RegExp(""+_.NULL+_.LF+"*")),(e={frames:[],partial:""}).frames=function(){for(var e=o.slice(0,-1),t=[],n=0,i=e.length;n<i;n++)s=e[n],t.push(a(s,r));return t}(),(t=o.slice(-1)[0])===_.LF||-1!==t.search(RegExp(""+_.NULL+_.LF+"*$"))?e.frames.push(a(t,r)):e.partial=t,e},v.marshall=function(e,t,n,i){return new v(e,t,n,i).toString()+_.NULL},v.frEscape=function(e){return(""+e).replace(/\\/g,"\\\\").replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/:/g,"\\c")},v.frUnEscape=function(e){return(""+e).replace(/\\r/g,"\r").replace(/\\n/g,"\n").replace(/\\c/g,":").replace(/\\\\/g,"\\")},f=v,e.prototype.debug=function(e){var t;return"undefined"!=typeof window&&null!==window&&null!=(t=window.console)?t.log(e):void 0},m=function(){return Date.now?Date.now():(new Date).valueOf},e.prototype._transmit=function(e,t,n){var i=f.marshall(e,t,n,this.escapeHeaderValues);for("function"==typeof this.debug&&this.debug(">>> "+i);;){if(!(i.length>this.maxWebSocketFrameSize))return this.ws.send(i);this.ws.send(i.substring(0,this.maxWebSocketFrameSize)),i=i.substring(this.maxWebSocketFrameSize),"function"==typeof this.debug&&this.debug("remaining = "+i.length)}},e.prototype._setupHeartbeat=function(r){var t,s,e,n,i,o;if((i=r.version)===p.VERSIONS.V1_1||i===p.VERSIONS.V1_2)return n=(i=function(){for(var e=r["heart-beat"].split(","),t=[],n=0,i=e.length;n<i;n++)s=e[n],t.push(parseInt(s));return t}())[0],i=i[1],0!==this.heartbeat.outgoing&&0!==i&&(t=Math.max(this.heartbeat.outgoing,i),"function"==typeof this.debug&&this.debug("send PING every "+t+"ms"),this.pinger=p.setInterval(t,(e=this,function(){return e.ws.send(_.LF),"function"==typeof e.debug?e.debug(">>> PING"):void 0}))),0!==this.heartbeat.incoming&&0!==n?(t=Math.max(this.heartbeat.incoming,n),"function"==typeof this.debug&&this.debug("check PONG every "+t+"ms"),this.ponger=p.setInterval(t,(o=this,function(){var e=m()-o.serverActivity;if(2*t<e)return"function"==typeof o.debug&&o.debug("did not receive server activity for the last "+e+"ms"),o.ws.close()}))):void 0},e.prototype._parseConnect=function(){var e,t,n,i=1<=arguments.length?o.call(arguments,0):[],r={};if(i.length<2)throw"Connect requires at least 2 arguments";return"function"==typeof i[1]?(r=i[0],t=i[1],n=i[2],e=i[3]):6===i.length?(r.login=i[0],r.passcode=i[1],t=i[2],n=i[3],e=i[4],r.host=i[5]):(r.login=i[0],r.passcode=i[1],t=i[2],n=i[3],e=i[4]),[r,t,n,e]},e.prototype.connect=function(){var e=1<=arguments.length?o.call(arguments,0):[];return this.escapeHeaderValues=!1,e=this._parseConnect.apply(this,e),this.headers=e[0],this.connectCallback=e[1],this.errorCallback=e[2],this.closeEventCallback=e[3],this._active=!0,this._connect()},e.prototype._connect=function(){var u,d,n,e,t=this.headers,h=this.errorCallback,i=this.closeEventCallback;if(this._active)return"function"==typeof this.debug&&this.debug("Opening Web Socket..."),this.ws=this.ws_fn(),u=function(e){for(var t,n,i,r="",s=e.length,o=0;o<s;)switch((t=e[o++])>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:r+=String.fromCharCode(t);break;case 12:case 13:n=e[o++],r+=String.fromCharCode((31&t)<<6|63&n);break;case 14:n=e[o++],i=e[o++],r+=String.fromCharCode((15&t)<<12|(63&n)<<6|(63&i)<<0)}return r},this.ws.onmessage=(d=this,function(e){var t,n,i,r,s,o,a,l,c="undefined"!=typeof ArrayBuffer&&e.data instanceof ArrayBuffer?(c=new Uint8Array(e.data),"function"==typeof d.debug&&d.debug("--- got data length: "+c.length),u(c)):e.data;if(d.serverActivity=m(),c===_.LF)"function"==typeof d.debug&&d.debug("<<< PONG");else for("function"==typeof d.debug&&d.debug("<<< "+c),e=f.unmarshall(d.partialData+c,d.escapeHeaderValues),d.partialData=e.partial,i=0,r=(a=e.frames).length;i<r;i++)switch((n=a[i]).command){case"CONNECTED":if("function"==typeof d.debug&&d.debug("connected to server "+n.headers.server),d.connected=!0,d.version=n.headers.version,d.version===p.VERSIONS.V1_2&&(d.escapeHeaderValues=!0),!d._active)return void d.disconnect();d._setupHeartbeat(n.headers),"function"==typeof d.connectCallback&&d.connectCallback(n);break;case"MESSAGE":l=n.headers.subscription,(o=d.subscriptions[l]||d.onreceive)?(s=(t=d).version===p.VERSIONS.V1_2?n.headers.ack:n.headers["message-id"],n.ack=function(e){return t.ack(s,l,e=null==e?{}:e)},n.nack=function(e){return t.nack(s,l,e=null==e?{}:e)},o(n)):"function"==typeof d.debug&&d.debug("Unhandled received MESSAGE: "+n);break;case"RECEIPT":n.headers["receipt-id"]===d.closeReceipt?(d.ws.onclose=null,d.ws.close(),d._cleanUp(),"function"==typeof d._disconnectCallback&&d._disconnectCallback()):"function"==typeof d.onreceipt&&d.onreceipt(n);break;case"ERROR":"function"==typeof h&&h(n);break;default:"function"==typeof d.debug&&d.debug("Unhandled frame: "+n)}}),this.ws.onclose=(n=this,function(e){var t="Whoops! Lost connection to "+n.ws.url;return"function"==typeof n.debug&&n.debug(t),"function"==typeof i&&i(e),n._cleanUp(),"function"==typeof h&&h(t),n._schedule_reconnect()}),this.ws.onopen=(e=this,function(){return"function"==typeof e.debug&&e.debug("Web Socket Opened..."),t["accept-version"]=p.VERSIONS.supportedVersions(),t["heart-beat"]=[e.heartbeat.outgoing,e.heartbeat.incoming].join(","),e._transmit("CONNECT",t)});this.debug("Client has been marked inactive, will not attempt to connect")},e.prototype._schedule_reconnect=function(){if(0<this.reconnect_delay)return"function"==typeof this.debug&&this.debug("STOMP: scheduling reconnection in "+this.reconnect_delay+"ms"),this._reconnector=setTimeout(function(){return e.connected?"function"==typeof e.debug?e.debug("STOMP: already connected"):void 0:("function"==typeof e.debug&&e.debug("STOMP: attempting to reconnect"),e._connect())},(e=this).reconnect_delay);var e},e.prototype.disconnect=function(e,t){if(null==t&&(t={}),this._disconnectCallback=e,this._active=!1,this.connected){t.receipt||(t.receipt="close-"+this.counter++),this.closeReceipt=t.receipt;try{return this._transmit("DISCONNECT",t)}catch(e){return"function"==typeof this.debug?this.debug("Ignoring error during disconnect",e):void 0}}},e.prototype._cleanUp=function(){if(this._reconnector&&clearTimeout(this._reconnector),this.connected=!1,this.subscriptions={},this.partial="",this.pinger&&p.clearInterval(this.pinger),this.ponger)return p.clearInterval(this.ponger)},e.prototype.send=function(e,t,n){return null==n&&(n=""),(t=null==t?{}:t).destination=e,this._transmit("SEND",t,n)},e.prototype.subscribe=function(e,t,n){var i;return(n=null==n?{}:n).id||(n.id="sub-"+this.counter++),n.destination=e,this.subscriptions[n.id]=t,this._transmit("SUBSCRIBE",n),i=this,{id:n.id,unsubscribe:function(e){return i.unsubscribe(n.id,e)}}},e.prototype.unsubscribe=function(e,t){return null==t&&(t={}),delete this.subscriptions[e],t.id=e,this._transmit("UNSUBSCRIBE",t)},e.prototype.begin=function(e){var t,n=e||"tx-"+this.counter++;return this._transmit("BEGIN",{transaction:n}),t=this,{id:n,commit:function(){return t.commit(n)},abort:function(){return t.abort(n)}}},e.prototype.commit=function(e){return this._transmit("COMMIT",{transaction:e})},e.prototype.abort=function(e){return this._transmit("ABORT",{transaction:e})},e.prototype.ack=function(e,t,n){return null==n&&(n={}),this.version===p.VERSIONS.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit("ACK",n)},e.prototype.nack=function(e,t,n){return null==n&&(n={}),this.version===p.VERSIONS.V1_2?n.id=e:n["message-id"]=e,n.subscription=t,this._transmit("NACK",n)},n=e,p={VERSIONS:{V1_0:"1.0",V1_1:"1.1",V1_2:"1.2",supportedVersions:function(){return"1.2,1.1,1.0"}},client:function(e,t){return null==t&&(t=["v10.stomp","v11.stomp","v12.stomp"]),new n(function(){return new(p.WebSocketClass||WebSocket)(e,t)})},over:function(e){return new n("function"==typeof e?e:function(){return e})},Frame:f,setInterval:function(e,t){return setInterval(t,e)},clearInterval:function(e){return clearInterval(e)}},"undefined"!=typeof exports&&null!==exports&&(exports.Stomp=p),"undefined"!=typeof window&&null!==window?window.Stomp=p:exports||(self.Stomp=p)}.call(this),function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SockJS=e()}(function(){return function i(r,s,o){function a(t,e){if(!s[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n=s[t]={exports:{}};r[t][0].call(n.exports,function(e){return a(r[t][1][e]||e)},n,n.exports,i,r,s,o)}return s[t].exports}for(var l="function"==typeof require&&require,e=0;e<o.length;e++)a(o[e]);return a}({1:[function(n,i,e){!function(t){!function(){"use strict";var e=n("./transport-list");i.exports=n("./main")(e),"_sockjs_onload"in t&&setTimeout(t._sockjs_onload,1)}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":14,"./transport-list":16}],2:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./event");function s(){r.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}i(s,r),t.exports=s},{"./event":4,inherits:54}],3:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./eventtarget");function s(){r.call(this)}i(s,r),s.prototype.removeAllListeners=function(e){e?delete this._listeners[e]:this._listeners={}},s.prototype.once=function(t,n){var i=this,r=!1;this.on(t,function e(){i.removeListener(t,e),r||(r=!0,n.apply(this,arguments))})},s.prototype.emit=function(){var e=this._listeners[arguments[0]];if(e){for(var t=arguments.length,n=new Array(t-1),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0;r<e.length;r++)e[r].apply(this,n)}},s.prototype.on=s.prototype.addListener=r.prototype.addEventListener,s.prototype.removeListener=r.prototype.removeEventListener,t.exports.EventEmitter=s},{"./eventtarget":5,inherits:54}],4:[function(e,t,n){"use strict";function i(e){this.type=e}i.prototype.initEvent=function(e,t,n){return this.type=e,this.bubbles=t,this.cancelable=n,this.timeStamp=+new Date,this},i.prototype.stopPropagation=function(){},i.prototype.preventDefault=function(){},i.CAPTURING_PHASE=1,i.AT_TARGET=2,i.BUBBLING_PHASE=3,t.exports=i},{}],5:[function(e,t,n){"use strict";function i(){this._listeners={}}i.prototype.addEventListener=function(e,t){e in this._listeners||(this._listeners[e]=[]);var n=this._listeners[e];-1===n.indexOf(t)&&(n=n.concat([t])),this._listeners[e]=n},i.prototype.removeEventListener=function(e,t){var n=this._listeners[e];n&&-1!==(t=n.indexOf(t))&&(1<n.length?this._listeners[e]=n.slice(0,t).concat(n.slice(t+1)):delete this._listeners[e])},i.prototype.dispatchEvent=function(){var e=arguments[0],t=e.type,n=1===arguments.length?[e]:Array.apply(null,arguments);if(this["on"+t]&&this["on"+t].apply(this,n),t in this._listeners)for(var i=this._listeners[t],r=0;r<i.length;r++)i[r].apply(this,n)},t.exports=i},{}],6:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./event");function s(e){r.call(this),this.initEvent("message",!1,!1),this.data=e}i(s,r),t.exports=s},{"./event":4,inherits:54}],7:[function(e,t,n){"use strict";var i=e("./utils/iframe");function r(e){(this._transport=e).on("message",this._transportMessage.bind(this)),e.on("close",this._transportClose.bind(this))}r.prototype._transportClose=function(e,t){i.postMessage("c",JSON.stringify([e,t]))},r.prototype._transportMessage=function(e){i.postMessage("t",e)},r.prototype._send=function(e){this._transport.send(e)},r.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},t.exports=r},{"./utils/iframe":47}],8:[function(e,t,n){"use strict";var d=e("./utils/url"),i=e("./utils/event"),h=e("./facade"),r=e("./info-iframe-receiver"),f=e("./utils/iframe"),p=e("./location");t.exports=function(l,e){var c,u={};e.forEach(function(e){e.facadeTransport&&(u[e.facadeTransport.transportName]=e.facadeTransport)}),u[r.transportName]=r,l.bootstrap_iframe=function(){var a;f.currentWindowId=p.hash.slice(1),i.attachEvent("message",function(e){if(e.source===parent&&(void 0===c&&(c=e.origin),e.origin===c)){var t,n;try{t=JSON.parse(e.data)}catch(n){return void e.data}if(t.windowId===f.currentWindowId)switch(t.type){case"s":try{n=JSON.parse(t.data)}catch(n){t.data;break}var i=n[0],r=n[1],s=n[2],o=n[3];if(i!==l.version)throw new Error('Incompatible SockJS! Main site uses: "'+i+'", the iframe: "'+l.version+'".');if(!d.isOriginEqual(s,p.href)||!d.isOriginEqual(o,p.href))throw new Error("Can't connect to different domain from within an iframe. ("+p.href+", "+s+", "+o+")");a=new h(new u[r](s,o));break;case"m":a._send(t.data);break;case"c":a&&a._close(),a=null}}}),f.postMessage("s")}}},{"./facade":7,"./info-iframe-receiver":10,"./location":13,"./utils/event":46,"./utils/iframe":47,"./utils/url":52,debug:void 0}],9:[function(e,t,n){"use strict";var i=e("events").EventEmitter,r=e("inherits"),o=e("./utils/object");function s(e,t){i.call(this);var r=this,s=+new Date;this.xo=new t("GET",e),this.xo.once("finish",function(e,t){var n,i;if(200===e){if(i=+new Date-s,t)try{n=JSON.parse(t)}catch(e){}o.isObject(n)||(n={})}r.emit("finish",n,i),r.removeAllListeners()})}r(s,i),s.prototype.close=function(){this.removeAllListeners(),this.xo.close()},t.exports=s},{"./utils/object":49,debug:void 0,events:3,inherits:54}],10:[function(e,t,n){"use strict";var i=e("inherits"),r=e("events").EventEmitter,s=e("./transport/sender/xhr-local"),o=e("./info-ajax");function a(e){var n=this;r.call(this),this.ir=new o(e,s),this.ir.once("finish",function(e,t){n.ir=null,n.emit("message",JSON.stringify([e,t]))})}i(a,r),a.transportName="iframe-info-receiver",a.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},t.exports=a},{"./info-ajax":9,"./transport/sender/xhr-local":37,events:3,inherits:54}],11:[function(n,i,e){!function(l){!function(){"use strict";var r=n("events").EventEmitter,e=n("inherits"),s=n("./utils/event"),o=n("./transport/iframe"),a=n("./info-iframe-receiver");function t(t,n){var i=this;function e(){var e=i.ifr=new o(a.transportName,n,t);e.once("message",function(e){if(e){var t;try{t=JSON.parse(e)}catch(t){return i.emit("finish"),void i.close()}var e=t[0],n=t[1];i.emit("finish",e,n)}i.close()}),e.once("close",function(){i.emit("finish"),i.close()})}r.call(this),l.document.body?e():s.attachEvent("load",e)}e(t,r),t.enabled=function(){return o.enabled()},t.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},i.exports=t}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./info-iframe-receiver":10,"./transport/iframe":22,"./utils/event":46,debug:void 0,events:3,inherits:54}],12:[function(e,t,n){"use strict";var i=e("events").EventEmitter,r=e("inherits"),s=e("./utils/url"),o=e("./transport/sender/xdr"),a=e("./transport/sender/xhr-cors"),l=e("./transport/sender/xhr-local"),c=e("./transport/sender/xhr-fake"),u=e("./info-iframe"),d=e("./info-ajax");function h(e,t){var n=this;i.call(this),setTimeout(function(){n.doXhr(e,t)},0)}r(h,i),h._getReceiver=function(e,t,n){return n.sameOrigin?new d(t,l):a.enabled?new d(t,a):o.enabled&&n.sameScheme?new d(t,o):u.enabled()?new u(e,t):new d(t,c)},h.prototype.doXhr=function(e,t){var n=this,i=s.addPath(e,"/info");this.xo=h._getReceiver(e,i,t),this.timeoutRef=setTimeout(function(){n._cleanup(!1),n.emit("finish")},h.timeout),this.xo.once("finish",function(e,t){n._cleanup(!0),n.emit("finish",e,t)})},h.prototype._cleanup=function(e){clearTimeout(this.timeoutRef),this.timeoutRef=null,!e&&this.xo&&this.xo.close(),this.xo=null},h.prototype.close=function(){this.removeAllListeners(),this._cleanup(!1)},h.timeout=8e3,t.exports=h},{"./info-ajax":9,"./info-iframe":11,"./transport/sender/xdr":34,"./transport/sender/xhr-cors":35,"./transport/sender/xhr-fake":36,"./transport/sender/xhr-local":37,"./utils/url":52,debug:void 0,events:3,inherits:54}],13:[function(e,t,n){!function(e){!function(){"use strict";t.exports=e.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(w,b,e){!function(v){!function(){"use strict";w("./shims");var n,s=w("url-parse"),e=w("inherits"),o=w("./utils/random"),t=w("./utils/escape"),a=w("./utils/url"),i=w("./utils/event"),r=w("./utils/transport"),l=w("./utils/object"),c=w("./utils/browser"),u=w("./utils/log"),d=w("./event/event"),h=w("./event/eventtarget"),f=w("./location"),p=w("./event/close"),m=w("./event/trans-message"),y=w("./info-receiver");function g(e,t,n){if(!(this instanceof g))return new g(e,t,n);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");h.call(this),this.readyState=g.CONNECTING,this.extensions="",this.protocol="",(n=n||{}).protocols_whitelist&&u.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=n.transports,this._transportOptions=n.transportOptions||{},this._timeout=n.timeout||0;var i=n.sessionId||8;if("function"==typeof i)this._generateSessionId=i;else{if("number"!=typeof i)throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._generateSessionId=function(){return o.string(i)}}this._server=n.server||o.numberString(1e3);n=new s(e);if(!n.host||!n.protocol)throw new SyntaxError("The URL '"+e+"' is invalid");if(n.hash)throw new SyntaxError("The URL must not contain a fragment");if("http:"!==n.protocol&&"https:"!==n.protocol)throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+n.protocol+"' is not allowed.");e="https:"===n.protocol;if("https:"===f.protocol&&!e&&!a.isLoopbackAddr(n.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");t?Array.isArray(t)||(t=[t]):t=[];var r=t.sort(),e=(r.forEach(function(e,t){if(!e)throw new SyntaxError("The protocols entry '"+e+"' is invalid.");if(t<r.length-1&&e===r[t+1])throw new SyntaxError("The protocols entry '"+e+"' is duplicated.")}),a.getOrigin(f.href));this._origin=e?e.toLowerCase():null,n.set("pathname",n.pathname.replace(/\/+$/,"")),this.url=n.href,this.url,this._urlInfo={nullOrigin:!c.hasDomain(),sameOrigin:a.isOriginEqual(this.url,f.href),sameScheme:a.isSchemeEqual(this.url,f.href)},this._ir=new y(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}function _(e){return 1e3===e||3e3<=e&&e<=4999}e(g,h),g.prototype.close=function(e,t){if(e&&!_(e))throw new Error("InvalidAccessError: Invalid code");if(t&&123<t.length)throw new SyntaxError("reason argument has an invalid length");this.readyState!==g.CLOSING&&this.readyState!==g.CLOSED&&this._close(e||1e3,t||"Normal closure",!0)},g.prototype.send=function(e){if("string"!=typeof e&&(e=""+e),this.readyState===g.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===g.OPEN&&this._transport.send(t.quote(e))},g.version=w("./version"),g.CONNECTING=0,g.OPEN=1,g.CLOSING=2,g.CLOSED=3,g.prototype._receiveInfo=function(e,t){this._ir=null,e?(this._rto=this.countRTO(t),this._transUrl=e.base_url||this.url,e=l.extend(e,this._urlInfo),t=n.filterToEnabled(this._transportsWhitelist,e),this._transports=t.main,this._transports.length,this._connect()):this._close(1002,"Cannot connect to server")},g.prototype._connect=function(){for(var e,t,n=this._transports.shift();n;n=this._transports.shift())return(n.transportName,n.needBody&&(!v.document.body||void 0!==v.document.readyState&&"complete"!==v.document.readyState&&"interactive"!==v.document.readyState))?(this._transports.unshift(n),void i.attachEvent("load",this._connect.bind(this))):(t=Math.max(this._timeout,this._rto*n.roundTrips||5e3),this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),t),t=a.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),e=this._transportOptions[n.transportName],(t=new n(t,this._transUrl,e)).on("message",this._transportMessage.bind(this)),t.once("close",this._transportClose.bind(this)),t.transportName=n.transportName,void(this._transport=t));this._close(2e3,"All transports failed",!1)},g.prototype._transportTimeout=function(){this.readyState===g.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},g.prototype._transportMessage=function(e){var t,n=this,i=e.slice(0,1),r=e.slice(1);switch(i){case"o":return void this._open();case"h":return this.dispatchEvent(new d("heartbeat")),void this.transport}if(r)try{t=JSON.parse(r)}catch(e){}if(void 0!==t)switch(i){case"a":Array.isArray(t)&&t.forEach(function(e){n.transport,n.dispatchEvent(new m(e))});break;case"m":this.transport,this.dispatchEvent(new m(t));break;case"c":Array.isArray(t)&&2===t.length&&this._close(t[0],t[1],!0)}},g.prototype._transportClose=function(e,t){this.transport,this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),_(e)||2e3===e||this.readyState!==g.CONNECTING?this._close(e,t):this._connect()},g.prototype._open=function(){this._transport&&this._transport.transportName,this.readyState,this.readyState===g.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=g.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new d("open")),this.transport):this._close(1006,"Server lost session")},g.prototype._close=function(t,n,i){this.transport,this.readyState;var r=!1;if(this._ir&&(r=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===g.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=g.CLOSING,setTimeout(function(){this.readyState=g.CLOSED,r&&this.dispatchEvent(new d("error"));var e=new p("close");e.wasClean=i||!1,e.code=t||1e3,e.reason=n,this.dispatchEvent(e),this.onmessage=this.onclose=this.onerror=null}.bind(this),0)},g.prototype.countRTO=function(e){return 100<e?4*e:300+e},b.exports=function(e){return n=r(e),w("./iframe-bootstrap")(g,e),g}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./event/close":2,"./event/event":4,"./event/eventtarget":5,"./event/trans-message":6,"./iframe-bootstrap":8,"./info-receiver":12,"./location":13,"./shims":15,"./utils/browser":44,"./utils/escape":45,"./utils/event":46,"./utils/log":48,"./utils/object":49,"./utils/random":50,"./utils/transport":51,"./utils/url":52,"./version":53,debug:void 0,inherits:54,"url-parse":57}],15:[function(e,t,n){"use strict";function a(e){return"[object Function]"===s.toString.call(e)}function l(e){return"[object String]"===d.call(e)}var r,u=Array.prototype,s=Object.prototype,i=Function.prototype,o=String.prototype,c=u.slice,d=s.toString,h=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}();function f(e,t,n){for(var i in t)s.hasOwnProperty.call(t,i)&&r(e,i,t[i],n)}function p(e){if(null==e)throw new TypeError("can't convert "+e+" to object");return Object(e)}function m(){}r=h?function(e,t,n,i){!i&&t in e||Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:!0,value:n})}:function(e,t,n,i){!i&&t in e||(e[t]=n)},f(i,{bind:function(t){var n=this;if(!a(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=c.call(arguments,1),e=Math.max(0,n.length-i.length),r=[],s=0;s<e;s++)r.push("$"+s);var o=Function("binder","return function ("+r.join(",")+"){ return binder.apply(this, arguments); }")(function(){var e;return this instanceof o?(e=n.apply(this,i.concat(c.call(arguments))),Object(e)===e?e:this):n.apply(t,i.concat(c.call(arguments)))});return n.prototype&&(m.prototype=n.prototype,o.prototype=new m,m.prototype=null),o}}),f(Array,{isArray:function(e){return"[object Array]"===d.call(e)}});var y,g,h=Object("a"),_="a"!==h[0]||!(0 in h),h=(f(u,{forEach:function(e,t){var n=p(this),i=_&&l(this)?this.split(""):n,r=t,s=-1,o=i.length>>>0;if(!a(e))throw new TypeError;for(;++s<o;)s in i&&e.call(r,i[s],s,n)}},(i=u.forEach,g=y=!0,i&&(i.call("foo",function(e,t,n){"object"!=typeof n&&(y=!1)}),i.call([1],function(){g="string"==typeof this},"x")),!(i&&y&&g))),Array.prototype.indexOf&&-1!==[0,1].indexOf(1,2));f(u,{indexOf:function(e,t){var n=_&&l(this)?this.split(""):p(this),i=n.length>>>0;if(i){var r=0;for(1<arguments.length&&((t=+t)!=t?t=0:0!==t&&t!==1/0&&t!==-1/0&&(t=(0<t||-1)*Math.floor(Math.abs(t))),r=t),r=0<=r?r:Math.max(0,i+r);r<i;r++)if(r in n&&n[r]===e)return r}return-1}},h);var v,w=o.split,b=(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||4!=="test".split(/(?:)/,-1).length||"".split(/.?/).length||1<".".split(/()()/).length?(v=void 0===/()??/.exec("")[1],o.split=function(e,t){var n=this;if(void 0===e&&0===t)return[];if("[object RegExp]"!==d.call(e))return w.call(this,e,t);var i,r,s,o,a=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),c=0;for(e=new RegExp(e.source,l+"g"),n+="",v||(i=new RegExp("^"+e.source+"$(?!\\s)",l)),t=void 0===t?-1>>>0:t>>>0;(r=e.exec(n))&&!(c<(s=r.index+r[0].length)&&(a.push(n.slice(c,r.index)),!v&&1<r.length&&r[0].replace(i,function(){for(var e=1;e<arguments.length-2;e++)void 0===arguments[e]&&(r[e]=void 0)}),1<r.length&&r.index<n.length&&u.push.apply(a,r.slice(1)),o=r[0].length,c=s,t<=a.length));)e.lastIndex===r.index&&e.lastIndex++;return c===n.length?!o&&e.test("")||a.push(""):a.push(n.slice(c)),t<a.length?a.slice(0,t):a}):"0".split(void 0,0).length&&(o.split=function(e,t){return void 0===e&&0===t?[]:w.call(this,e,t)}),o.substr);f(o,{substr:function(e,t){return b.call(this,e<0&&(e=this.length+e)<0?0:e,t)}},"".substr&&"b"!=="0b".substr(-1))},{}],16:[function(e,t,n){"use strict";t.exports=[e("./transport/websocket"),e("./transport/xhr-streaming"),e("./transport/xdr-streaming"),e("./transport/eventsource"),e("./transport/lib/iframe-wrap")(e("./transport/eventsource")),e("./transport/htmlfile"),e("./transport/lib/iframe-wrap")(e("./transport/htmlfile")),e("./transport/xhr-polling"),e("./transport/xdr-polling"),e("./transport/lib/iframe-wrap")(e("./transport/xhr-polling")),e("./transport/jsonp-polling")]},{"./transport/eventsource":20,"./transport/htmlfile":21,"./transport/jsonp-polling":23,"./transport/lib/iframe-wrap":26,"./transport/websocket":38,"./transport/xdr-polling":39,"./transport/xdr-streaming":40,"./transport/xhr-polling":41,"./transport/xhr-streaming":42}],17:[function(r,u,e){!function(i){!function(){"use strict";var s=r("events").EventEmitter,e=r("inherits"),o=r("../../utils/event"),a=r("../../utils/url"),l=i.XMLHttpRequest;function c(e,t,n,i){var r=this;s.call(this),setTimeout(function(){r._start(e,t,n,i)},0)}e(c,s),c.prototype._start=function(e,t,n,i){var r=this;try{this.xhr=new l}catch(e){}if(this.xhr){t=a.addQuery(t,"t="+ +new Date),this.unloadRef=o.unloadAdd(function(){r._cleanup(!0)});try{this.xhr.open(e,t,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){r.emit("finish",0,""),r._cleanup(!1)})}catch(e){return this.emit("finish",0,""),void this._cleanup(!1)}if(i&&i.noCredentials||!c.supportsCORS||(this.xhr.withCredentials=!0),i&&i.headers)for(var s in i.headers)this.xhr.setRequestHeader(s,i.headers[s]);this.xhr.onreadystatechange=function(){if(r.xhr){var e,t,n=r.xhr;switch(n.readyState,n.readyState){case 3:try{t=n.status,e=n.responseText}catch(e){}200===(t=1223===t?204:t)&&e&&0<e.length&&r.emit("chunk",t,e);break;case 4:t=n.status,n.responseText,r.emit("finish",t=12005!==(t=1223===t?204:t)&&12029!==t?t:0,n.responseText),r._cleanup(!1)}}};try{r.xhr.send(n)}catch(e){r.emit("finish",0,""),r._cleanup(!1)}}else this.emit("finish",0,"no xhr support"),this._cleanup()},c.prototype._cleanup=function(e){if(this.xhr){if(this.removeAllListeners(),o.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),e)try{this.xhr.abort()}catch(e){}this.unloadRef=this.xhr=null}},c.prototype.close=function(){this._cleanup(!0)},c.enabled=!!l;var t=["Active"].concat("Object").join("X"),n=(!c.enabled&&t in i&&(c.enabled=!!new(l=function(){try{return new i[t]("Microsoft.XMLHTTP")}catch(e){return null}})),!1);try{n="withCredentials"in new l}catch(e){}c.supportsCORS=n,u.exports=c}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],18:[function(e,t,n){!function(e){!function(){t.exports=e.EventSource}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],19:[function(e,n,t){!function(e){!function(){"use strict";var t=e.WebSocket||e.MozWebSocket;n.exports=t?function(e){return new t(e)}:void 0}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./lib/ajax-based"),s=e("./receiver/eventsource"),o=e("./sender/xhr-cors"),a=e("eventsource");function l(e){if(!l.enabled())throw new Error("Transport created when disabled");r.call(this,e,"/eventsource",s,o)}i(l,r),l.enabled=function(){return!!a},l.transportName="eventsource",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/eventsource":29,"./sender/xhr-cors":35,eventsource:18,inherits:54}],21:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./receiver/htmlfile"),s=e("./sender/xhr-local"),o=e("./lib/ajax-based");function a(e){if(!r.enabled)throw new Error("Transport created when disabled");o.call(this,e,"/htmlfile",r,s)}i(a,o),a.enabled=function(e){return r.enabled&&e.sameOrigin},a.transportName="htmlfile",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":24,"./receiver/htmlfile":30,"./sender/xhr-local":37,inherits:54}],22:[function(e,t,n){"use strict";var i=e("inherits"),r=e("events").EventEmitter,s=e("../version"),o=e("../utils/url"),a=e("../utils/iframe"),l=e("../utils/event"),c=e("../utils/random");function u(e,t,n){if(!u.enabled())throw new Error("Transport created when disabled");r.call(this);var i=this,t=(this.origin=o.getOrigin(n),this.baseUrl=n,this.transUrl=t,this.transport=e,this.windowId=c.string(8),o.addPath(n,"/iframe.html")+"#"+this.windowId);this.iframeObj=a.createIframe(t,function(e){i.emit("close",1006,"Unable to load an iframe ("+e+")"),i.close()}),this.onmessageCallback=this._message.bind(this),l.attachEvent("message",this.onmessageCallback)}i(u,r),u.prototype.close=function(){if(this.removeAllListeners(),this.iframeObj){l.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(e){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},u.prototype._message=function(e){if(e.data,o.isOriginEqual(e.origin,this.origin)){var t,n;try{t=JSON.parse(e.data)}catch(n){return void e.data}if(t.windowId===this.windowId)switch(t.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([s,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",t.data);break;case"c":try{n=JSON.parse(t.data)}catch(n){return void t.data}this.emit("close",n[0],n[1]),this.close()}else t.windowId,this.windowId}else e.origin,this.origin},u.prototype.postMessage=function(e,t){this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:e,data:t||""}),this.origin)},u.prototype.send=function(e){this.postMessage("m",e)},u.enabled=function(){return a.iframeEnabled},u.transportName="iframe",u.roundTrips=2,t.exports=u},{"../utils/event":46,"../utils/iframe":47,"../utils/random":50,"../utils/url":52,"../version":53,debug:void 0,events:3,inherits:54}],23:[function(o,a,e){!function(s){!function(){"use strict";var e=o("inherits"),t=o("./lib/sender-receiver"),n=o("./receiver/jsonp"),i=o("./sender/jsonp");function r(e){if(!r.enabled())throw new Error("Transport created when disabled");t.call(this,e,"/jsonp",i,n)}e(r,t),r.enabled=function(){return!!s.document},r.transportName="jsonp-polling",r.roundTrips=1,r.needBody=!0,a.exports=r}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/sender-receiver":28,"./receiver/jsonp":31,"./sender/jsonp":33,inherits:54}],24:[function(e,t,n){"use strict";var i=e("inherits"),o=e("../../utils/url"),r=e("./sender-receiver");function s(e,t,n,i){var s;r.call(this,e,t,function(e,t,n){var i={},e=("string"==typeof t&&(i.headers={"Content-type":"text/plain"}),o.addPath(e,"/xhr_send")),r=new s("POST",e,t,i);return r.once("finish",function(e){if(r=null,200!==e&&204!==e)return n(new Error("http status "+e));n()}),function(){r.close(),r=null;var e=new Error("Aborted");e.code=1e3,n(e)}},n,s=i)}i(s,r),t.exports=s},{"../../utils/url":52,"./sender-receiver":28,debug:void 0,inherits:54}],25:[function(e,t,n){"use strict";var i=e("inherits"),r=e("events").EventEmitter;function s(e,t){r.call(this),this.sendBuffer=[],this.sender=t,this.url=e}i(s,r),s.prototype.send=function(e){this.sendBuffer.push(e),this.sendStop||this.sendSchedule()},s.prototype.sendScheduleWait=function(){var e,t=this;this.sendStop=function(){t.sendStop=null,clearTimeout(e)},e=setTimeout(function(){t.sendStop=null,t.sendSchedule()},25)},s.prototype.sendSchedule=function(){this.sendBuffer.length;var e,t=this;0<this.sendBuffer.length&&(e="["+this.sendBuffer.join(",")+"]",this.sendStop=this.sender(this.url,e,function(e){t.sendStop=null,e?(t.emit("close",e.code||1006,"Sending error: "+e),t.close()):t.sendScheduleWait()}),this.sendBuffer=[])},s.prototype._cleanup=function(){this.removeAllListeners()},s.prototype.close=function(){this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},t.exports=s},{debug:void 0,events:3,inherits:54}],26:[function(e,n,t){!function(s){!function(){"use strict";var t=e("inherits"),i=e("../iframe"),r=e("../../utils/object");n.exports=function(n){function e(e,t){i.call(this,n.transportName,e,t)}return t(e,i),e.enabled=function(e,t){return!!s.document&&((t=r.extend({},t)).sameOrigin=!0,n.enabled(t))&&i.enabled()},e.transportName="iframe-"+n.transportName,e.needBody=!0,e.roundTrips=i.roundTrips+n.roundTrips-1,e.facadeTransport=n,e}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/object":49,"../iframe":22,inherits:54}],27:[function(e,t,n){"use strict";var i=e("inherits"),r=e("events").EventEmitter;function s(e,t,n){r.call(this),this.Receiver=e,this.receiveUrl=t,this.AjaxObject=n,this._scheduleReceiver()}i(s,r),s.prototype._scheduleReceiver=function(){var n=this,i=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);i.on("message",function(e){n.emit("message",e)}),i.once("close",function(e,t){n.pollIsClosing,n.poll=i=null,n.pollIsClosing||("network"===t?n._scheduleReceiver():(n.emit("close",e||1006,t),n.removeAllListeners()))})},s.prototype.abort=function(){this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},t.exports=s},{debug:void 0,events:3,inherits:54}],28:[function(e,t,n){"use strict";var i=e("inherits"),o=e("../../utils/url"),a=e("./buffered-sender"),l=e("./polling");function r(e,t,n,i,r){var t=o.addPath(e,t),s=this;a.call(this,e,n),this.poll=new l(i,t,r),this.poll.on("message",function(e){s.emit("message",e)}),this.poll.once("close",function(e,t){s.poll=null,s.emit("close",e,t),s.close()})}i(r,a),r.prototype.close=function(){a.prototype.close.call(this),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},t.exports=r},{"../../utils/url":52,"./buffered-sender":25,"./polling":27,debug:void 0,inherits:54}],29:[function(e,t,n){"use strict";var i=e("inherits"),r=e("events").EventEmitter,s=e("eventsource");function o(e){r.call(this);var n=this,i=this.es=new s(e);i.onmessage=function(e){e.data,n.emit("message",decodeURI(e.data))},i.onerror=function(e){i.readyState;var t=2!==i.readyState?"network":"permanent";n._cleanup(),n._close(t)}}i(o,r),o.prototype.abort=function(){this._cleanup(),this._close("user")},o.prototype._cleanup=function(){var e=this.es;e&&(e.onmessage=e.onerror=null,e.close(),this.es=null)},o.prototype._close=function(e){var t=this;setTimeout(function(){t.emit("close",null,e),t.removeAllListeners()},200)},t.exports=o},{debug:void 0,events:3,eventsource:18,inherits:54}],30:[function(n,c,e){!function(l){!function(){"use strict";var e=n("inherits"),i=n("../../utils/iframe"),r=n("../../utils/url"),s=n("events").EventEmitter,o=n("../../utils/random");function a(e){s.call(this);var t=this,n=(i.polluteGlobalNamespace(),this.id="a"+o.string(6),e=r.addQuery(e,"c="+decodeURIComponent(i.WPrefix+"."+this.id)),a.htmlfileEnabled?i.createHtmlfile:i.createIframe);l[i.WPrefix][this.id]={start:function(){t.iframeObj.loaded()},message:function(e){t.emit("message",e)},stop:function(){t._cleanup(),t._close("network")}},this.iframeObj=n(e,function(){t._cleanup(),t._close("permanent")})}e(a,s),a.prototype.abort=function(){this._cleanup(),this._close("user")},a.prototype._cleanup=function(){this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete l[i.WPrefix][this.id]},a.prototype._close=function(e){this.emit("close",null,e),this.removeAllListeners()},a.htmlfileEnabled=!1;var t=["Active"].concat("Object").join("X");if(t in l)try{a.htmlfileEnabled=!!new l[t]("htmlfile")}catch(e){}a.enabled=a.htmlfileEnabled||i.iframeEnabled,c.exports=a}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],31:[function(t,c,e){!function(l){!function(){"use strict";var n=t("../../utils/iframe"),s=t("../../utils/random"),o=t("../../utils/browser"),i=t("../../utils/url"),e=t("inherits"),r=t("events").EventEmitter;function a(e){var t=this,e=(r.call(this),n.polluteGlobalNamespace(),this.id="a"+s.string(6),i.addQuery(e,"c="+encodeURIComponent(n.WPrefix+"."+this.id)));l[n.WPrefix][this.id]=this._callback.bind(this),this._createScript(e),this.timeoutId=setTimeout(function(){t._abort(new Error("JSONP script loaded abnormally (timeout)"))},a.timeout)}e(a,r),a.prototype.abort=function(){var e;l[n.WPrefix][this.id]&&((e=new Error("JSONP user aborted read")).code=1e3,this._abort(e))},a.timeout=35e3,a.scriptErrorTimeout=1e3,a.prototype._callback=function(e){this._cleanup(),this.aborting||(e&&this.emit("message",e),this.emit("close",null,"network"),this.removeAllListeners())},a.prototype._abort=function(e){this._cleanup(),this.aborting=!0,this.emit("close",e.code,e.message),this.removeAllListeners()},a.prototype._cleanup=function(){var e;clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script&&((e=this.script).parentNode.removeChild(e),e.onreadystatechange=e.onerror=e.onload=e.onclick=null,this.script=null),delete l[n.WPrefix][this.id]},a.prototype._scriptError=function(){var e=this;this.errorTimer||(this.errorTimer=setTimeout(function(){e.loadedOkay||e._abort(new Error("JSONP script loaded abnormally (onerror)"))},a.scriptErrorTimeout))},a.prototype._createScript=function(e){var t,n=this,i=this.script=l.document.createElement("script");if(i.id="a"+s.string(8),i.src=e,i.type="text/javascript",i.charset="UTF-8",i.onerror=this._scriptError.bind(this),i.onload=function(){n._abort(new Error("JSONP script loaded abnormally (onload)"))},i.onreadystatechange=function(){if(i.readyState,/loaded|closed/.test(i.readyState)){if(i&&i.htmlFor&&i.onclick){n.loadedOkay=!0;try{i.onclick()}catch(e){}}i&&n._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},void 0===i.async&&l.document.attachEvent)if(o.isOpera())(t=this.script2=l.document.createElement("script")).text="try{var a = document.getElementById('"+i.id+"'); if(a)a.onerror();}catch(x){};",i.async=t.async=!1;else{try{i.htmlFor=i.id,i.event="onclick"}catch(e){}i.async=!0}void 0!==i.async&&(i.async=!0);var r=l.document.getElementsByTagName("head")[0];r.insertBefore(i,r.firstChild),t&&r.insertBefore(t,r.firstChild)},c.exports=a}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/iframe":47,"../../utils/random":50,"../../utils/url":52,debug:void 0,events:3,inherits:54}],32:[function(e,t,n){"use strict";var i=e("inherits"),r=e("events").EventEmitter;function s(e,t){r.call(this);var n=this;this.bufferPosition=0,this.xo=new t("POST",e,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(e,t){n._chunkHandler(e,t),n.xo=null;t=200===e?"network":"permanent";n.emit("close",null,t),n._cleanup()})}i(s,r),s.prototype._chunkHandler=function(e,t){if(200===e&&t)for(var n=-1;;this.bufferPosition+=n+1){var i=t.slice(this.bufferPosition);if(-1===(n=i.indexOf("\n")))break;i=i.slice(0,n);i&&this.emit("message",i)}},s.prototype._cleanup=function(){this.removeAllListeners()},s.prototype.abort=function(){this.xo&&(this.xo.close(),this.emit("close",null,"user"),this.xo=null),this._cleanup()},t.exports=s},{debug:void 0,events:3,inherits:54}],33:[function(e,t,n){!function(u){!function(){"use strict";var o,a,l=e("../../utils/random"),c=e("../../utils/url");t.exports=function(e,t,n){o||((o=u.document.createElement("form")).style.display="none",o.style.position="absolute",o.method="POST",o.enctype="application/x-www-form-urlencoded",o.acceptCharset="UTF-8",(a=u.document.createElement("textarea")).name="d",o.appendChild(a),u.document.body.appendChild(o));var i="a"+l.string(8),r=(o.target=i,o.action=c.addQuery(c.addPath(e,"/jsonp_send"),"i="+i),function(t){try{return u.document.createElement('<iframe name="'+t+'">')}catch(e){var n=u.document.createElement("iframe");return n.name=t,n}}(i));r.id=i,r.style.display="none",o.appendChild(r);try{a.value=t}catch(e){}function s(e){r.onerror&&(r.onreadystatechange=r.onerror=r.onload=null,setTimeout(function(){r.parentNode.removeChild(r),r=null},500),a.value="",n(e))}return o.submit(),r.onerror=function(){s()},r.onload=function(){s()},r.onreadystatechange=function(e){r.readyState,"complete"===r.readyState&&s()},function(){s(new Error("Aborted"))}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/random":50,"../../utils/url":52,debug:void 0}],34:[function(i,l,e){!function(a){!function(){"use strict";var r=i("events").EventEmitter,e=i("inherits"),s=i("../../utils/event"),t=i("../../utils/browser"),o=i("../../utils/url");function n(e,t,n){var i=this;r.call(this),setTimeout(function(){i._start(e,t,n)},0)}e(n,r),n.prototype._start=function(e,t,n){var i=this,r=new a.XDomainRequest;t=o.addQuery(t,"t="+ +new Date),r.onerror=function(){i._error()},r.ontimeout=function(){i._error()},r.onprogress=function(){r.responseText,i.emit("chunk",200,r.responseText)},r.onload=function(){i.emit("finish",200,r.responseText),i._cleanup(!1)},this.xdr=r,this.unloadRef=s.unloadAdd(function(){i._cleanup(!0)});try{this.xdr.open(e,t),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(n)}catch(e){this._error()}},n.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},n.prototype._cleanup=function(e){if(this.xdr){if(this.removeAllListeners(),s.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,e)try{this.xdr.abort()}catch(e){}this.unloadRef=this.xdr=null}},n.prototype.close=function(){this._cleanup(!0)},n.enabled=!(!a.XDomainRequest||!t.hasDomain()),l.exports=n}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../utils/browser":44,"../../utils/event":46,"../../utils/url":52,debug:void 0,events:3,inherits:54}],35:[function(e,t,n){"use strict";var i=e("inherits"),r=e("../driver/xhr");function s(e,t,n,i){r.call(this,e,t,n,i)}i(s,r),s.enabled=r.enabled&&r.supportsCORS,t.exports=s},{"../driver/xhr":17,inherits:54}],36:[function(e,t,n){"use strict";var i=e("events").EventEmitter;function r(){var e=this;i.call(this),this.to=setTimeout(function(){e.emit("finish",200,"{}")},r.timeout)}e("inherits")(r,i),r.prototype.close=function(){clearTimeout(this.to)},r.timeout=2e3,t.exports=r},{events:3,inherits:54}],37:[function(e,t,n){"use strict";var i=e("inherits"),r=e("../driver/xhr");function s(e,t,n){r.call(this,e,t,n,{noCredentials:!0})}i(s,r),s.enabled=r.enabled,t.exports=s},{"../driver/xhr":17,inherits:54}],38:[function(e,t,n){"use strict";var r=e("../utils/event"),s=e("../utils/url"),i=e("inherits"),o=e("events").EventEmitter,a=e("./driver/websocket");function l(e,t,n){if(!l.enabled())throw new Error("Transport created when disabled");o.call(this);var i=this,e="https"===(e=s.addPath(e,"/websocket")).slice(0,5)?"wss"+e.slice(5):"ws"+e.slice(4);this.url=e,this.ws=new a(this.url,[],n),this.ws.onmessage=function(e){e.data,i.emit("message",e.data)},this.unloadRef=r.unloadAdd(function(){i.ws.close()}),this.ws.onclose=function(e){e.code,e.reason,i.emit("close",e.code,e.reason),i._cleanup()},this.ws.onerror=function(e){i.emit("close",1006,"WebSocket connection broken"),i._cleanup()}}i(l,o),l.prototype.send=function(e){e="["+e+"]";this.ws.send(e)},l.prototype.close=function(){var e=this.ws;this._cleanup(),e&&e.close()},l.prototype._cleanup=function(){var e=this.ws;e&&(e.onmessage=e.onclose=e.onerror=null),r.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},l.enabled=function(){return!!a},l.transportName="websocket",l.roundTrips=2,t.exports=l},{"../utils/event":46,"../utils/url":52,"./driver/websocket":19,debug:void 0,events:3,inherits:54}],39:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./lib/ajax-based"),s=e("./xdr-streaming"),o=e("./receiver/xhr"),a=e("./sender/xdr");function l(e){if(!a.enabled)throw new Error("Transport created when disabled");r.call(this,e,"/xhr",o,a)}i(l,r),l.enabled=s.enabled,l.transportName="xdr-polling",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,"./xdr-streaming":40,inherits:54}],40:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./lib/ajax-based"),s=e("./receiver/xhr"),o=e("./sender/xdr");function a(e){if(!o.enabled)throw new Error("Transport created when disabled");r.call(this,e,"/xhr_streaming",s,o)}i(a,r),a.enabled=function(e){return!e.cookie_needed&&!e.nullOrigin&&o.enabled&&e.sameScheme},a.transportName="xdr-streaming",a.roundTrips=2,t.exports=a},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xdr":34,inherits:54}],41:[function(e,t,n){"use strict";var i=e("inherits"),r=e("./lib/ajax-based"),s=e("./receiver/xhr"),o=e("./sender/xhr-cors"),a=e("./sender/xhr-local");function l(e){if(!a.enabled&&!o.enabled)throw new Error("Transport created when disabled");r.call(this,e,"/xhr",s,o)}i(l,r),l.enabled=function(e){return!e.nullOrigin&&(!(!a.enabled||!e.sameOrigin)||o.enabled)},l.transportName="xhr-polling",l.roundTrips=2,t.exports=l},{"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],42:[function(l,c,e){!function(a){!function(){"use strict";var e=l("inherits"),t=l("./lib/ajax-based"),n=l("./receiver/xhr"),i=l("./sender/xhr-cors"),r=l("./sender/xhr-local"),s=l("../utils/browser");function o(e){if(!r.enabled&&!i.enabled)throw new Error("Transport created when disabled");t.call(this,e,"/xhr_streaming",n,i)}e(o,t),o.enabled=function(e){return!e.nullOrigin&&!s.isOpera()&&i.enabled},o.transportName="xhr-streaming",o.roundTrips=2,o.needBody=!!a.document,c.exports=o}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../utils/browser":44,"./lib/ajax-based":24,"./receiver/xhr":32,"./sender/xhr-cors":35,"./sender/xhr-local":37,inherits:54}],43:[function(e,n,t){!function(t){!function(){"use strict";t.crypto&&t.crypto.getRandomValues?n.exports.randomBytes=function(e){e=new Uint8Array(e);return t.crypto.getRandomValues(e),e}:n.exports.randomBytes=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=Math.floor(256*Math.random());return t}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,n){!function(e){!function(){"use strict";t.exports={isOpera:function(){return e.navigator&&/opera/i.test(e.navigator.userAgent)},isKonqueror:function(){return e.navigator&&/konqueror/i.test(e.navigator.userAgent)},hasDomain:function(){if(!e.document)return!0;try{return!!e.document.domain}catch(e){return!1}}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){"use strict";var i,r=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g;t.exports={quote:function(e){e=JSON.stringify(e);return r.lastIndex=0,r.test(e)?(i=i||function(e){for(var t={},n=[],i=0;i<65536;i++)n.push(String.fromCharCode(i));return e.lastIndex=0,n.join("").replace(e,function(e){return t[e]="\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4),""}),e.lastIndex=0,t}(r),e.replace(r,function(e){return i[e]})):e}}},{}],46:[function(e,t,n){!function(o){!function(){"use strict";var n=e("./random"),i={},r=!1,s=o.chrome&&o.chrome.app&&o.chrome.app.runtime;t.exports={attachEvent:function(e,t){void 0!==o.addEventListener?o.addEventListener(e,t,!1):o.document&&o.attachEvent&&(o.document.attachEvent("on"+e,t),o.attachEvent("on"+e,t))},detachEvent:function(e,t){void 0!==o.addEventListener?o.removeEventListener(e,t,!1):o.document&&o.detachEvent&&(o.document.detachEvent("on"+e,t),o.detachEvent("on"+e,t))},unloadAdd:function(e){var t;return s?null:(t=n.string(8),i[t]=e,r&&setTimeout(this.triggerUnloadCallbacks,0),t)},unloadDel:function(e){e in i&&delete i[e]},triggerUnloadCallbacks:function(){for(var e in i)i[e](),delete i[e]}},s||t.exports.attachEvent("unload",function(){r||(r=!0,t.exports.triggerUnloadCallbacks())})}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./random":50}],47:[function(t,h,e){!function(d){!function(){"use strict";var u=t("./event"),e=t("./browser");h.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){h.exports.WPrefix in d||(d[h.exports.WPrefix]={})},postMessage:function(e,t){d.parent!==d&&d.parent.postMessage(JSON.stringify({windowId:h.exports.currentWindowId,type:e,data:t||""}),"*")},createIframe:function(e,t){function n(){clearTimeout(s);try{a.onload=null}catch(e){}a.onerror=null}function i(){a&&(n(),setTimeout(function(){a&&a.parentNode.removeChild(a),a=null},0),u.unloadDel(o))}function r(e){a&&(i(),t(e))}var s,o,a=d.document.createElement("iframe");return a.src=e,a.style.display="none",a.style.position="absolute",a.onerror=function(){r("onerror")},a.onload=function(){clearTimeout(s),s=setTimeout(function(){r("onload timeout")},2e3)},d.document.body.appendChild(a),s=setTimeout(function(){r("timeout")},15e3),o=u.unloadAdd(i),{post:function(e,t){setTimeout(function(){try{a&&a.contentWindow&&a.contentWindow.postMessage(e,t)}catch(e){}},0)},cleanup:i,loaded:n}},createHtmlfile:function(e,t){function n(){clearTimeout(s),a.onerror=null}function i(){c&&(n(),u.unloadDel(o),a.parentNode.removeChild(a),a=c=null,CollectGarbage())}function r(e){c&&(i(),t(e))}var s,o,a,l=["Active"].concat("Object").join("X"),c=new d[l]("htmlfile"),l=(c.open(),c.write('<html><script>document.domain="'+d.document.domain+'";<\/script></html>'),c.close(),c.parentWindow[h.exports.WPrefix]=d[h.exports.WPrefix],c.createElement("div"));return c.body.appendChild(l),a=c.createElement("iframe"),l.appendChild(a),a.src=e,a.onerror=function(){r("onerror")},s=setTimeout(function(){r("timeout")},15e3),o=u.unloadAdd(i),{post:function(e,t){try{setTimeout(function(){a&&a.contentWindow&&a.contentWindow.postMessage(e,t)},0)}catch(e){}},cleanup:i,loaded:n}}},h.exports.iframeEnabled=!1,d.document&&(h.exports.iframeEnabled=("function"==typeof d.postMessage||"object"==typeof d.postMessage)&&!e.isKonqueror())}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./browser":44,"./event":46,debug:void 0}],48:[function(e,t,n){!function(i){!function(){"use strict";var n={};["log","debug","warn"].forEach(function(e){var t;try{t=i.console&&i.console[e]&&i.console[e].apply}catch(e){}n[e]=t?function(){return i.console[e].apply(i.console,arguments)}:"log"===e?function(){}:n.log}),t.exports=n}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],49:[function(e,t,n){"use strict";t.exports={isObject:function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},extend:function(e){if(this.isObject(e))for(var t,n,i=1,r=arguments.length;i<r;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}}},{}],50:[function(e,t,n){"use strict";var s=e("crypto"),o="abcdefghijklmnopqrstuvwxyz012345";t.exports={string:function(e){for(var t=o.length,n=s.randomBytes(e),i=[],r=0;r<e;r++)i.push(o.substr(n[r]%t,1));return i.join("")},number:function(e){return Math.floor(Math.random()*e)},numberString:function(e){var t=(""+(e-1)).length;return(new Array(t+1).join("0")+this.number(e)).slice(-t)}}},{crypto:43}],51:[function(e,t,n){"use strict";t.exports=function(e){return{filterToEnabled:function(t,n){var i={main:[],facade:[]};return t?"string"==typeof t&&(t=[t]):t=[],e.forEach(function(e){!e||"websocket"===e.transportName&&!1===n.websocket||(t.length&&-1===t.indexOf(e.transportName)||!e.enabled(n)?e.transportName:(e.transportName,i.main.push(e),e.facadeTransport&&i.facade.push(e.facadeTransport)))}),i}}}},{debug:void 0}],52:[function(e,t,n){"use strict";var i=e("url-parse");t.exports={getOrigin:function(e){var t;return!e||"file:"===(e=new i(e)).protocol?null:(t=(t=e.port)||("https:"===e.protocol?"443":"80"),e.protocol+"//"+e.hostname+":"+t)},isOriginEqual:function(e,t){e=this.getOrigin(e)===this.getOrigin(t);return e},isSchemeEqual:function(e,t){return e.split(":")[0]===t.split(":")[0]},addPath:function(e,t){e=e.split("?");return e[0]+t+(e[1]?"?"+e[1]:"")},addQuery:function(e,t){return e+(-1===e.indexOf("?")?"?"+t:"&"+t)},isLoopbackAddr:function(e){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(e)||/^\[::1\]$/.test(e)}}},{debug:void 0,"url-parse":57}],53:[function(e,t,n){t.exports="1.6.1"},{}],54:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(e,t){function n(){}t&&(e.super_=t,n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e)}},{}],55:[function(e,t,n){"use strict";var s=Object.prototype.hasOwnProperty;function o(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}n.stringify=function(e,t){var n,i,r=[];for(i in"string"!=typeof(t=t||"")&&(t="?"),e)if(s.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=encodeURIComponent(i),n=encodeURIComponent(n),null===i||null===n)continue;r.push(i+"="+n)}return r.length?t+r.join("&"):""},n.parse=function(e){for(var t=/([^=?&]+)=?([^&]*)/g,n={};r=t.exec(e);){var i=o(r[1]),r=o(r[2]);null===i||null===r||i in n||(n[i]=r)}return n}},{}],56:[function(e,t,n){"use strict";t.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},{}],57:[function(e,n,t){!function(o){!function(){"use strict";var h=e("requires-port"),f=e("querystringify"),t=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,p=/[\n\r\t]/g,r=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=/:\d+$/,l=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,m=/^[a-zA-Z]:/;function y(e){return(e||"").toString().replace(t,"")}var g=[["#","hash"],["?","query"],function(e,t){return v(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],s={hash:1,query:1};function _(e){var t,n=("undefined"!=typeof window?window:void 0!==o?o:"undefined"!=typeof self?self:{}).location||{},i={},n=typeof(e=e||n);if("blob:"===e.protocol)i=new b(unescape(e.pathname),{});else if("string"==n)for(t in i=new b(e,{}),s)delete i[t];else if("object"==n){for(t in e)t in s||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=r.test(e.href))}return i}function v(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function w(e,t){e=(e=y(e)).replace(p,""),t=t||{};var n,e=l.exec(e),i=e[1]?e[1].toLowerCase():"",r=!!e[2],s=!!e[3],o=0;return r?o=s?(n=e[2]+e[3]+e[4],e[2].length+e[3].length):(n=e[2]+e[4],e[2].length):s?(n=e[3]+e[4],o=e[3].length):n=e[4],"file:"===i?2<=o&&(n=n.slice(2)):v(i)?n=e[4]:i?r&&(n=n.slice(2)):2<=o&&v(t.protocol)&&(n=e[4]),{protocol:i,slashes:r||v(i),slashesCount:o,rest:n}}function b(e,t,n){if(e=(e=y(e)).replace(p,""),!(this instanceof b))return new b(e,t,n);var i,r,s,o,a,l=g.slice(),c=typeof t,u=this,d=0;for("object"!=c&&"string"!=c&&(n=t,t=null),n&&"function"!=typeof n&&(n=f.parse),i=!(c=w(e||"",t=_(t))).protocol&&!c.slashes,u.slashes=c.slashes||i&&t.slashes,u.protocol=c.protocol||t.protocol||"",e=c.rest,("file:"===c.protocol&&(2!==c.slashesCount||m.test(e))||!c.slashes&&(c.protocol||c.slashesCount<2||!v(u.protocol)))&&(l[3]=[/(.*)/,"pathname"]);d<l.length;d++)"function"!=typeof(s=l[d])?(r=s[0],a=s[1],r!=r?u[a]=e:"string"==typeof r?~(o="@"===r?e.lastIndexOf(r):e.indexOf(r))&&(e="number"==typeof s[2]?(u[a]=e.slice(0,o),e.slice(o+s[2])):(u[a]=e.slice(o),e.slice(0,o))):(o=r.exec(e))&&(u[a]=o[1],e=e.slice(0,o.index)),u[a]=u[a]||i&&s[3]&&t[a]||"",s[4]&&(u[a]=u[a].toLowerCase())):e=s(e,u);n&&(u.query=n(u.query)),i&&t.slashes&&"/"!==u.pathname.charAt(0)&&(""!==u.pathname||""!==t.pathname)&&(u.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,t=n[i-1],r=!1,s=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(r=!0),n.splice(i,1),s--);return r&&n.unshift(""),"."!==t&&".."!==t||n.push(""),n.join("/")}(u.pathname,t.pathname)),"/"!==u.pathname.charAt(0)&&v(u.protocol)&&(u.pathname="/"+u.pathname),h(u.port,u.protocol)||(u.host=u.hostname,u.port=""),u.username=u.password="",u.auth&&(~(o=u.auth.indexOf(":"))?(u.username=u.auth.slice(0,o),u.username=encodeURIComponent(decodeURIComponent(u.username)),u.password=u.auth.slice(o+1),u.password=encodeURIComponent(decodeURIComponent(u.password))):u.username=encodeURIComponent(decodeURIComponent(u.auth)),u.auth=u.password?u.username+":"+u.password:u.username),u.origin="file:"!==u.protocol&&v(u.protocol)&&u.host?u.protocol+"//"+u.host:"null",u.href=u.toString()}b.prototype={set:function(e,t,n){var i=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||f.parse)(t)),i[e]=t;break;case"port":i[e]=t,h(t,i.protocol)?t&&(i.host=i.hostname+":"+t):(i.host=i.hostname,i[e]="");break;case"hostname":i[e]=t,i.port&&(t+=":"+i.port),i.host=t;break;case"host":i[e]=t,a.test(t)?(t=t.split(":"),i.port=t.pop(),i.hostname=t.join(":")):(i.hostname=t,i.port="");break;case"protocol":i.protocol=t.toLowerCase(),i.slashes=!n;break;case"pathname":case"hash":t?(r="pathname"===e?"/":"#",i[e]=t.charAt(0)!==r?r+t:t):i[e]=t;break;case"username":case"password":i[e]=encodeURIComponent(t);break;case"auth":var r=t.indexOf(":");~r?(i.username=t.slice(0,r),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=t.slice(r+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(t))}for(var s=0;s<g.length;s++){var o=g[s];o[4]&&(i[o[1]]=i[o[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&v(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(e){e&&"function"==typeof e||(e=f.stringify);var t=this,n=t.host,i=t.protocol,i=(i&&":"!==i.charAt(i.length-1)&&(i+=":"),i+(t.protocol&&t.slashes||v(t.protocol)?"//":""));return t.username?(i+=t.username,t.password&&(i+=":"+t.password),i+="@"):t.password?i=i+(":"+t.password)+"@":"file:"!==t.protocol&&v(t.protocol)&&!n&&"/"!==t.pathname&&(i+="@"),(":"===n[n.length-1]||a.test(t.hostname)&&!t.port)&&(n+=":"),i+=n+t.pathname,(n="object"==typeof t.query?e(t.query):t.query)&&(i+="?"!==n.charAt(0)?"?"+n:n),t.hash&&(i+=t.hash),i}},b.extractProtocol=w,b.location=_,b.trimLeft=y,b.qs=f,n.exports=b}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:55,"requires-port":56}]},{},[1])(1)});let socket=null,stompClient=null,settingsChat=null,settingsPreChat=null,clientId="",dataChat=[],localStorageData=null,localStorageDataPreChat=null,timeoutChat=null;const timeoutSetting=12e4,urlSocket="https://dev.alohub.vn:3009/websocket",urlSetting="https://dev.alohub.vn:9909";function makeId(e){let t="";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=n.length;let r=0;for(;r<e;)t+=n.charAt(Math.floor(Math.random()*i)),r+=1;return t}function _convertArrayToObject(e){let t={};return e.forEach(e=>t[e.layoutField]=e.fieldTitle),t}function _sortArrayObject(e){return e.sort(function(e,t){return e.fieldOrder-t.fieldOrder})}function isTodayOrYesterday(e){var t=moment(),n=moment(e);return t.isSame(n,"day")?"Today":moment().subtract(1,"days").isSame(n,"day")?"Yesterday":e}function formatText(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/(^|\n)(#+)(.*)/g,function(e,t,n,i){n=n.length;return"<h"+n+">"+i.trim()+"</h"+n+">"})).replace(/\*\*(.*?)\*\*|__(.*?)__/g,"<strong>$1$2</strong>")).replace(/\*(.*?)\*|_(.*?)_/g,"<em>$1$2</em>")).replace(/~~(.*?)~~/g,"<del>$1</del>")).replace(/`(.*?)`/g,"<code>$1</code>")).replace(/^>(.*)/gm,"<blockquote>$1</blockquote>")).replace(/^(\d+\..*)/gm,"<ol><li>$1</li></ol>")).replace(/^([-+*].*)/gm,"<ul><li>$1</li></ul>")).replace(/^\s*([-*_]){3,}\s*$/gm,"<hr>")).replace(/\[([^\]]+)\]\(([^)]+)\)/g,'<a href="$2">$1</a>')).replace(/!\[([^\]]+)\]\(([^)]+)\)/g,'<img src="$2" alt="$1">')).replace(/```((.|\n)*?)```/g,"<pre>$1</pre>")).replace(/`([^`]+)`/g,"<code>$1</code>")}function _showPreChat(){var e=document.getElementById("crm_pre_chat"),t=document.getElementById("crm_message_content"),n=document.getElementById("crm_send_message"),i=document.getElementById("crm_content");e.style.display="block",t.style.display="none",n.style.display="none",i.style.height="calc(100% - 120px)"}function _hiddenPreChat(){var e=document.getElementById("crm_pre_chat"),t=document.getElementById("crm_message_content"),n=document.getElementById("crm_send_message"),i=document.getElementById("crm_content");e.style.display="none",t.style.display="block",n.style.display="block",i.style.height="calc(100% - 172px)"}function _onGetValueToken(){return document.getElementById("crm_token").value}function _onAddHtml(){document.getElementById("crm_chat_simple").innerHTML+='\x3c!--Html load--\x3e\n    <div class="crm-icon">\n        <div class="icon" onclick="onToggleForm();" id="crm_icon">\n            <svg xmlns="http://www.w3.org/2000/svg" width="56" height="56" viewBox="0 0 56 56" fill="none">\n                <path d="M28 0C43.4385 0 56 12.5615 56 28V54.25C56 55.216 55.216 56 54.25 56H28C12.5615 56 0 43.4385 0 28C0 12.5615 12.5615 0 28 0Z"\n                      fill="#3F5FE6"/>\n                <path d="M29.75 35H15.75C14.784 35 14 34.216 14 33.25C14 32.284 14.784 31.5 15.75 31.5H29.75C30.716 31.5 31.5 32.284 31.5 33.25C31.5 34.216 30.716 35 29.75 35ZM40.25 24.5H15.75C14.784 24.5 14 23.716 14 22.75C14 21.784 14.784 21 15.75 21H40.25C41.216 21 42 21.784 42 22.75C42 23.716 41.216 24.5 40.25 24.5Z"\n                      fill="#F4F8FF"/>\n            </svg>\n        </div>\n    </div>\n    <div class="crm-content-form" id="crm_content_form">\n        <div class="header" id="crm_header">\n            <div class="information-chat">\n                <div class="logo" onclick="onCloseForm();"><img id="crm_logo" src="#" alt="logo"></div>\n                <div class="information">\n                    <span class="name-brand" id="crm_title_chat"></span>\n                    <div class="status-hotline">\n                        <span id="crm_status_chat"></span>\n                    </div>\n                </div>\n            </div>\n\n            <div class="actions">\n                <div class="full-page"></div>\n                <div class="close" onclick="onCloseForm();">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20" fill="none">\n                        <g clip-path="url(#clip0_9511_435)">\n                            <path d="M15.8334 5.34169L14.6584 4.16669L10 8.82502L5.34169 4.16669L4.16669 5.34169L8.82502 10L4.16669 14.6584L5.34169 15.8334L10 11.175L14.6584 15.8334L15.8334 14.6584L11.175 10L15.8334 5.34169Z"\n                                  fill="white"/>\n                        </g>\n                        <defs>\n                            <clipPath id="clip0_9511_435">\n                                <rect width="20" height="20" fill="white"/>\n                            </clipPath>\n                        </defs>\n                    </svg>\n                </div>\n            </div>\n        </div>\n        <div class="content" id="crm_content">\n            <div id="crm_pre_chat" style="display: none;">\n                <p id="crm_text_pre_chat"></p>\n                <div id="crm_setting_pre_chat"></div>\n                <div class="form-item">\n                    <button type="submit" id="crm_connect_button" onclick="onConnectSocket();">Chat với chúng tôi\n                    </button>\n                </div>\n            </div>\n            <div class="crm-message-content" id="crm_message_content" style="display: block;">\n                <div class="crm-list-message" id="crm_list_message">\n                    <div class="list-message">\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class="crm-footer">\n                <div class="send-message" id="crm_send_message">\n                    <form onsubmit="return false">\n                        <label for="txtMessage" class="hidden" placeholder="Nhập câu hỏi của bạn"></label>\n                        <input type="text" id="txtMessage">\n                        <button type="submit" onclick="_onSendMessage();">\n                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"\n                                 fill="none">\n                                <path d="M7.16326 9.51101L13.2161 7.49339C15.9314 6.5883 17.4116 8.06851 16.5065 10.7838L14.4889 16.8366C13.1312 20.9096 10.9109 20.9049 9.558 16.8366L9.15259 15.611C9.04888 15.2999 8.70476 14.9557 8.39363 14.852L7.16326 14.4419C3.09504 13.089 3.09504 10.8639 7.16326 9.51101Z"\n                                      stroke="white" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round"/>\n                                <path d="M8.90747 15.0924L11.4531 12.5468L8.90747 15.0924Z" fill="white"/>\n                                <path d="M8.90747 15.0924L11.4531 12.5468" stroke="white" stroke-width="1.2"\n                                      stroke-linecap="round" stroke-linejoin="round"/>\n                            </svg>\n                        </button>\n                    </form>\n                </div>\n            <p>\n                Powered by\n                <span>\n                    <svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" viewBox="0 0 17 16"\n                         fill="none">\n                          <path d="M10.9076 15.091C10.9303 15.1597 11.0057 15.1956 11.0729 15.1688C12.2742 14.688 13.3373 13.8786 14.1551 12.8205C15.0008 11.7263 15.5524 10.4074 15.751 9.00441C15.9496 7.60146 15.7877 6.16724 15.2826 4.85491C14.7775 3.54259 13.9483 2.40144 12.8833 1.55333C11.8184 0.705225 10.5578 0.182015 9.23623 0.0395748C7.91461 -0.102866 6.58159 0.140814 5.37953 0.744589C4.17746 1.34836 3.1515 2.28956 2.4112 3.46767C1.69164 4.61276 1.26823 5.93986 1.18281 7.31456C1.17872 7.38039 1.22943 7.43649 1.29529 7.44008C1.36178 7.44371 1.41842 7.3925 1.42259 7.32604C1.506 5.99828 1.91539 4.71661 2.61044 3.61052C3.32651 2.47097 4.31891 1.56057 5.48164 0.976548C6.64437 0.392529 7.93377 0.156824 9.21214 0.294603C10.4905 0.432383 11.7098 0.938473 12.7399 1.75883C13.77 2.57918 14.5721 3.68299 15.0607 4.95237C15.5492 6.22176 15.7058 7.60905 15.5137 8.96609C15.3216 10.3231 14.7881 11.599 13.9701 12.6573C13.1777 13.6825 12.1473 14.4663 10.9829 14.931C10.9196 14.9563 10.8861 15.0263 10.9076 15.091Z"\n                                fill="#3C5CDB"/>\n                          <rect x="1" y="6.16663" width="1" height="2" rx="0.5" fill="#506CDF" stroke="#3C5CDB"/>\n                          <rect x="15" y="6.16663" width="1" height="2" rx="0.5" fill="#506CDF" stroke="#3C5CDB"/>\n                          <rect x="10.0911" y="15.0521" width="1.71985" height="0.92822" rx="0.46411"\n                                transform="rotate(-27.0308 10.0911 15.0521)" fill="#3C5CDB"/>\n                          <rect x="6.83337" y="11.3334" width="0.666667" height="1.33333" rx="0.2"\n                                fill="url(#paint0_linear_9511_338)"/>\n                          <rect x="9.83337" y="11.3334" width="0.666667" height="1.33333" rx="0.2"\n                                fill="url(#paint1_linear_9511_338)"/>\n                          <rect x="8.16663" y="11.3334" width="1" height="2.33333" rx="0.2"\n                                fill="url(#paint2_linear_9511_338)"/>\n                          <path fill-rule="evenodd" clip-rule="evenodd"\n                                d="M4.12316 12.3333C3.9832 12.3333 3.88652 12.1932 3.93616 12.0624L7.4511 2.7957C7.48057 2.718 7.55501 2.66663 7.6381 2.66663H9.6908C9.77613 2.66663 9.85206 2.72076 9.87987 2.80143L13.0753 12.0681C13.1201 12.198 13.0236 12.3333 12.8862 12.3333H11.6466C11.5594 12.3333 11.4828 12.2772 11.4539 12.1949C11.076 11.1168 10.0377 9.33329 8.50006 9.33329C6.9074 9.33329 5.92352 11.2103 5.54841 12.2012C5.51839 12.2805 5.44335 12.3333 5.35855 12.3333H4.12316ZM8.846 4.94794C8.79109 4.7597 8.52626 4.75468 8.46426 4.94069L7.42114 8.07005C7.37797 8.19955 7.47437 8.33329 7.61088 8.33329H9.56672C9.70006 8.33329 9.79606 8.20529 9.75872 8.07729L8.846 4.94794Z"\n                                fill="#506CDF"/>\n                          <path d="M9.75872 8.07729L9.27872 8.21729L9.75872 8.07729ZM8.46426 4.94069L7.98992 4.78258L8.46426 4.94069ZM8.846 4.94794L8.366 5.08794L8.846 4.94794ZM7.42114 8.07005L6.9468 7.91193L7.42114 8.07005ZM5.54841 12.2012L5.0808 12.0241L5.54841 12.2012ZM11.4539 12.1949L11.9257 12.0295L11.4539 12.1949ZM13.0753 12.0681L12.6026 12.2311L13.0753 12.0681ZM9.87987 2.80143L9.40719 2.96442L9.87987 2.80143ZM3.93616 12.0624L4.40366 12.2397L3.93616 12.0624ZM7.4511 2.7957L7.9186 2.97302L7.4511 2.7957ZM6.9836 2.61837L3.46866 11.885L4.40366 12.2397L7.9186 2.97302L6.9836 2.61837ZM9.6908 2.16663H7.6381V3.16663H9.6908V2.16663ZM13.548 11.9051L10.3526 2.63843L9.40719 2.96442L12.6026 12.2311L13.548 11.9051ZM11.6466 12.8333H12.8862V11.8333H11.6466V12.8333ZM8.50006 9.83329C9.06239 9.83329 9.58021 10.1592 10.0327 10.6857C10.4817 11.2081 10.8083 11.8646 10.982 12.3602L11.9257 12.0295C11.7216 11.447 11.3402 10.6728 10.7911 10.0339C10.2456 9.39913 9.47539 8.83329 8.50006 8.83329V9.83329ZM6.01602 12.3782C6.1927 11.9115 6.50864 11.25 6.95251 10.7149C7.39979 10.1756 7.91658 9.83329 8.50006 9.83329V8.83329C7.49089 8.83329 6.71941 9.4295 6.18281 10.0765C5.64279 10.7275 5.27923 11.5 5.0808 12.0241L6.01602 12.3782ZM4.12316 12.8333H5.35855V11.8333H4.12316V12.8333ZM7.89548 8.22816L8.9386 5.0988L7.98992 4.78258L6.9468 7.91193L7.89548 8.22816ZM9.56672 7.83329H7.61088V8.83329H9.56672V7.83329ZM8.366 5.08794L9.27872 8.21729L10.2387 7.93729L9.326 4.80794L8.366 5.08794ZM9.56672 8.83329C10.0334 8.83329 10.3694 8.38529 10.2387 7.93729L9.27872 8.21729C9.22272 8.02529 9.36673 7.83329 9.56672 7.83329V8.83329ZM8.9386 5.0988C8.84559 5.37782 8.44835 5.37028 8.366 5.08794L9.326 4.80794C9.13384 4.14913 8.20693 4.13153 7.98992 4.78258L8.9386 5.0988ZM6.9468 7.91193C6.79571 8.3652 7.13309 8.83329 7.61088 8.83329V7.83329C7.81564 7.83329 7.96023 8.0339 7.89548 8.22816L6.9468 7.91193ZM5.0808 12.0241C5.12292 11.9129 5.23144 11.8333 5.35855 11.8333V12.8333C5.65527 12.8333 5.91386 12.6481 6.01602 12.3782L5.0808 12.0241ZM11.6466 11.8333C11.7788 11.8333 11.8867 11.9181 11.9257 12.0295L10.982 12.3602C11.0788 12.6363 11.34 12.8333 11.6466 12.8333V11.8333ZM12.6026 12.2311C12.5354 12.0363 12.6801 11.8333 12.8862 11.8333V12.8333C13.367 12.8333 13.7047 12.3597 13.548 11.9051L12.6026 12.2311ZM9.6908 3.16663C9.56281 3.16663 9.44891 3.08542 9.40719 2.96442L10.3526 2.63843C10.2552 2.3561 9.98945 2.16663 9.6908 2.16663V3.16663ZM3.46866 11.885C3.29493 12.3431 3.63329 12.8333 4.12316 12.8333V11.8333C4.3331 11.8333 4.47811 12.0434 4.40366 12.2397L3.46866 11.885ZM7.9186 2.97302C7.8744 3.08956 7.76274 3.16663 7.6381 3.16663V2.16663C7.34727 2.16663 7.08674 2.34645 6.9836 2.61837L7.9186 2.97302Z"\n                                fill="#3C5CDB"/>\n                          <defs>\n                            <linearGradient id="paint0_linear_9511_338" x1="7.16671" y1="11.3334" x2="7.16671"\n                                            y2="12.6667"\n                                            gradientUnits="userSpaceOnUse">\n                              <stop stop-color="#3C5CDB"/>\n                              <stop offset="1" stop-color="#3C5CDB" stop-opacity="0"/>\n                            </linearGradient>\n                            <linearGradient id="paint1_linear_9511_338" x1="10.1667" y1="11.3334" x2="10.1667"\n                                            y2="12.6667"\n                                            gradientUnits="userSpaceOnUse">\n                              <stop stop-color="#3C5CDB"/>\n                              <stop offset="1" stop-color="#3C5CDB" stop-opacity="0"/>\n                            </linearGradient>\n                            <linearGradient id="paint2_linear_9511_338" x1="8.66663" y1="11.3334" x2="8.66663"\n                                            y2="13.6667"\n                                            gradientUnits="userSpaceOnUse">\n                              <stop stop-color="#3C5CDB"/>\n                              <stop offset="1" stop-color="#3C5CDB" stop-opacity="0"/>\n                            </linearGradient>\n                          </defs>\n                    </svg>\n                </span> Alohub\n            </p>\n        </div>\n    </div>'}async function _onGetSettingFromCrm(){var e=_onGetValueToken(),e=await(await fetch(urlSetting+"/api/chatbox/getLayoutConfig?api_key="+e,{method:"POST",body:JSON.stringify({layoutType:["DEFAULT"],layoutBlock:["CHATBOX","PRECHAT"]}),headers:{"Content-Type":"application/json"}})).json(),t=("1"!==e.success&&alert(e.error_message),e.data.filter(e=>"CHATBOX"===e.layoutBlock));return{listSettingsChat:t,listSettingsPreChat:e.data.filter(e=>"PRECHAT"===e.layoutBlock)}}function _onCreateHtmlPreChat(e){const s=document.getElementById("crm_setting_pre_chat");e.forEach(function(e){var t,n,i,r=document.createElement("div");r.classList.add("form-item"),"TEXTBOX"===e.fieldType?((t=document.createElement("label")).textContent=e.fieldTitle+(e.fieldRequired?" *":""),(n=document.createElement("input")).type="text",n.placeholder=e.fieldTitle,n.id=e.layoutField,(i=document.createElement("span")).id="err_"+e.layoutField,i.classList.add("error"),r.appendChild(t),r.appendChild(n),r.appendChild(i)):((t=document.createElement("label")).textContent=e.fieldTitle+(e.fieldRequired?" *":""),(n=document.createElement("textarea")).id=e.layoutField,n.placeholder=e.fieldTitle,(i=document.createElement("span")).id="err_"+e.layoutField,i.classList.add("error"),r.appendChild(t),r.appendChild(n),r.appendChild(i)),s.appendChild(r)})}function _onAddHtmlChat(e){if(e){var t=document.getElementById("crm_list_message");const r=document.createElement("div");r.classList.add("list-message"),e.forEach(function(e){var t,n,i;e.userName&&("DISCONNECT"!==e.type?((t=document.createElement("div")).classList.add("right"),(i=document.createElement("p")).textContent=e.message,i.style.background=settingsChat.colorCode,t.appendChild(i),r.appendChild(t)):((i=document.createElement("div")).classList.add("center"),(t=document.createElement("p")).textContent=e.message,i.appendChild(t),r.appendChild(i))),0<Object.keys(e.response).length&&((t=document.createElement("div")).classList.add("left"),(i=document.createElement("div")).classList.add("left-content"),(n=document.createElement("img")).src=settingsChat.chatbotLogo,i.appendChild(n),n=document.createElement("p"),e.response.message.replaceAll("\n","<br>"),n.innerHTML=formatText(e.response.message),i.appendChild(n),t.appendChild(i),(n=document.createElement("div")).classList.add("date-chat"),n.textContent=moment(e.timeSend).format("HH:mm"),(i=document.createElement("div")).textContent=isTodayOrYesterday(e.timeSend),n.appendChild(i),t.appendChild(n),r.appendChild(t))}),t.appendChild(r)}}function _onResetPreChat(){var e=document.getElementById("pcName"),t=document.getElementById("pcEmail"),n=document.getElementById("pcPhone"),i=document.getElementById("txtMessage");e.value="",t.value="",n.value="",i.value=""}function _onScrollChat(){document.getElementById("crm_list_message").scrollIntoView({behavior:"smooth",block:"end"})}async function _onSendMessage(){null===stompClient||stompClient.connected||(console.log("====Connect again===="),onConnectSocket());var e=_onGetValueToken(),t=document.getElementById("pcName"),n=document.getElementById("pcEmail"),i=document.getElementById("pcPhone"),r=document.getElementById("txtMessage"),s=r.value,t=null!==localStorageDataPreChat?JSON.parse(localStorageDataPreChat)[0].pcName:t.value,n=null!==localStorageDataPreChat?JSON.parse(localStorageDataPreChat)[0].pcEmail:n.value,i=null!==localStorageDataPreChat?JSON.parse(localStorageDataPreChat)[0].pcPhone:i.value;dataChat.push({userName:t,timeSend:moment(),type:"MESSAGE",message:r.value,response:{}}),localStorage.setItem("crm_data_chat",JSON.stringify(dataChat)),_onAddHtmlChat([dataChat[dataChat.length-1]]),r.value="",_onScrollChat(),clearTimeout(timeoutChat);r=await(await fetch(urlSetting+"/api/chatbox/send-message?api_key="+e,{method:"POST",body:JSON.stringify({conversationId:"",clientSocketId:clientId,userDisplayName:clientId,isPreload:"yes"===settingsChat.isPrechat?1:0,preloadName:t,preloadEmail:n,preloadPhone:i,preloadMessage:settingsChat.prechatMessage,message:s,status:"active"}),headers:{"Content-Type":"application/json"}})).json();"1"!==r.success&&alert(r.error_message),_hiddenPreChat()}function _onSetBackgroundColor(){var e=document.getElementById("crm_header"),t=document.getElementById("crm_logo"),n=document.getElementById("crm_status_chat"),i=document.getElementById("crm_text_pre_chat"),r=document.getElementById("crm_title_chat");e.style.background=settingsChat.colorCode,t.src=settingsChat.domainlogo,n.innerText=settingsChat.headerSubText,r.innerText=settingsChat.headerText,i.innerText=settingsChat.prechatTitle}function onConnectSocket(){var e=document.getElementById("pcName"),t=document.getElementById("pcEmail"),n=document.getElementById("pcPhone"),i=document.getElementById("err_pcName"),r=document.getElementById("err_pcEmail"),s=document.getElementById("err_pcPhone"),o=(i.innerHTML="",r.innerHTML="",s.innerHTML="",e.classList.remove("error"),t.classList.remove("error"),n.classList.remove("error"),[]);if(null===localStorageDataPreChat){if(""===e.value&&1===settingsPreChat.find(e=>"pcName"===e.layoutField).fieldRequired&&(i.textContent="Vui lòng nhập tên của bạn",e.classList.add("error"),o.push("pcName")),(""!==t.value||1!==settingsPreChat.find(e=>"pcEmail"===e.layoutField).fieldRequired)&&/\S+@\S+\.\S+/.test(t.value)||(r.textContent="Vui lòng nhập đúng định dạng Email",t.classList.add("error"),o.push("pcEmail")),(""!==n.value||1!==settingsPreChat.find(e=>"pcPhone"===e.layoutField).fieldRequired)&&/^[0-9]+$/.test(n.value)||(s.textContent="Vui lòng nhập đúng định dạng số điện thoại",n.classList.add("error"),o.push("pcPhone")),0<o.length)return;localStorage.setItem("crm_data_pre_chat",JSON.stringify([{pcName:e.value,pcEmail:t.value,pcPhone:n.value}]))}null!==stompClient&&stompClient.connected?console.log("===Already connected."):(socket=new SockJS(urlSocket),stompClient=Stomp.over(socket),i={clientId:Math.floor(1e9*Math.random()),tenantId:"",username:clientId,reconnectDelay:200,apiKey:_onGetValueToken()},stompClient.connect(i,function(e){"CONNECTED"===e?.command&&(_hiddenPreChat(),1<=dataChat.length&&(_onAddHtmlChat(dataChat),_onScrollChat()),stompClient.subscribe("/user/topic/chatbot",function(e){dataChat.push({response:JSON.parse(e.body)}),localStorage.setItem("crm_data_chat",JSON.stringify(dataChat)),_onAddHtmlChat([dataChat[dataChat.length-1]]),_onScrollChat(),clearTimeout(timeoutChat),timeoutChat=setTimeout(()=>{disconnect()},timeoutSetting)}))}))}async function _onCloseSocket(){var e=_onGetValueToken(),e=await(await fetch(urlSetting+"/api/chatbox/conversation/status?api_key="+e,{method:"PUT",body:JSON.stringify({conversationId:dataChat[dataChat.length-1].response.conversationId,status:"INACTIVE"}),headers:{"Content-Type":"application/json"}})).json();"1"!==e.success&&alert(e.error_message),console.log("====Disconnected from WebSocket server====")}async function disconnect(){null!==stompClient&&stompClient.connected?(stompClient.disconnect(),await _onCloseSocket(),dataChat.push({userName:"BOT",timeSend:moment(),type:"DISCONNECT",message:"Hội thoại đã tự động kết thúc.",response:{}}),_onAddHtmlChat([dataChat[dataChat.length-1]]),_onScrollChat()):console.log("===Already disconnected.===")}function onToggleForm(){document.getElementById("crm_content_form").classList.toggle("is_open")}function onCloseForm(){document.getElementById("crm_content_form").classList.remove("is_open")}function _onListenEventInput(){const e=document.getElementById("pcName"),t=document.getElementById("pcEmail"),n=document.getElementById("pcPhone"),i=document.getElementById("err_pcName"),r=document.getElementById("err_pcEmail"),s=document.getElementById("err_pcPhone");e.addEventListener("input",function(){e.classList.remove("error"),i.innerHTML=""}),t.addEventListener("input",function(){t.classList.remove("error"),r.innerHTML=""}),n.addEventListener("input",function(){n.classList.remove("error"),s.innerHTML=""})}window.onload=async function(){clientId=makeId(26);var e=await _onGetSettingFromCrm();settingsChat=_convertArrayToObject(e.listSettingsChat),console.log(settingsChat),settingsPreChat=_sortArrayObject(e.listSettingsPreChat),_onAddHtml(),_onSetBackgroundColor(),_onCreateHtmlPreChat(settingsPreChat),localStorageData=localStorage.getItem("crm_data_chat"),localStorageDataPreChat=localStorage.getItem("crm_data_pre_chat"),"yes"!==settingsChat.isPrechat||null!==localStorageData&&null!==localStorageDataPreChat||(dataChat.push({response:{deliveredAt:moment(),message:settingsChat.prechatMessage,userName:"ALOHUB_CHATBOT"}}),localStorage.setItem("crm_data_chat",JSON.stringify(dataChat))),("yes"!==settingsChat.isPrechat||null!==localStorageData&&0<localStorageData.length&&null!==localStorageDataPreChat&&0<localStorageDataPreChat.length?(dataChat=JSON.parse(localStorageData),onConnectSocket(),_hiddenPreChat):(_showPreChat(),_onListenEventInput))()};